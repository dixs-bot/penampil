<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cilok Goang Teh Desi ‚Äî Pesan Online</title>
  <meta name="description" content="Cilok Goang Teh Desi Cimahi ‚Äî cilok pedas, seblak dan minuman. Pesan online via Shopee, GoFood, Grab. Buka 09:00‚Äì24:00." />
  <meta name="keywords" content="cilok cimahi, cilok pedas, cilok goang, teh desi, seblak, gofood, shopeefood, grabfood" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://dixs-bot.github.io/Vmenu/" />
  <meta property="og:title" content="Cilok Goang Teh Desi Cimahi" />
  <meta property="og:description" content="Rasa Juara, Pedasnya Bikin Nagih! Pesan online via Shopee, GoFood, Grab atau WA." />
  <meta property="og:image" content="images/logocilok.png" />
  <meta property="og:url" content="https://dixs-bot.github.io/Vmenu/" />
  <meta property="og:type" content="restaurant" />

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');
/* === DESAIN PREMIUM & LUXURY - BINTANG LIMA === */
:root {
  --primary: #1a1a2e; /* Midnight Blue - Elegan & Mewah */
  --secondary: #16213e; /* Dark Blue - Kontras */
  --accent: #e94560; /* Merah muda premium */
  --gold: #ffd700; /* Emas untuk aksen mewah */
  --gold-dark: #daa520; /* Emas tua */
  --silver: #c0c0c0; /* Perak */
  --bg: #f5f5f5; /* Background putih abu-abu */
  --card: #ffffff;
  --dark: #0f0f23;
  --light: #f8f9fa;
}

/* Typography Premium */
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap');

body {
  font-family: 'Poppins', sans-serif;
  background: var(--bg);
  color: var(--dark);
  line-height: 1.8;
  margin: 0;
  padding: 0;
  overflow-x: hidden;
}

/* Header dengan desain mewah */
header {
  background: linear-gradient(135deg, var(--dark) 0%, var(--secondary) 100%);
  color: white;
  padding: 30px 0;
  box-shadow: 0 10px 40px rgba(0,0,0,0.3);
  position: sticky;
  top: 0;
  z-index: 100;
  border-bottom: 3px solid var(--gold);
}

.brand {
  max-width: 1300px;
  margin: 0 auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 40px;
}

.logo-container {
  display: flex;
  align-items: center;
  gap: 30px;
}

.logo-small {
  width: 90px;
  height: 90px;
  border-radius: 15px;
  object-fit: cover;
  box-shadow: 0 8px 30px rgba(0,0,0,0.3);
  border: 4px solid rgba(255,255,255,0.2);
  transition: all 0.3s ease;
}

.logo-small:hover {
  transform: scale(1.05);
  box-shadow: 0 12px 40px rgba(255,215,0,0.3);
}

.brand-info h1 {
  margin: 0;
  font-size: 2.2rem;
  font-weight: 700;
  font-family: 'Playfair Display', serif;
  letter-spacing: -1px;
  background: linear-gradient(135deg, var(--gold) 0%, var(--gold-dark) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 2px 10px rgba(0,0,0,0.2);
}

.brand-info p {
  margin: 8px 0 0;
  font-size: 1.1rem;
  opacity: 0.9;
  font-weight: 300;
  font-family: 'Playfair Display', serif;
}

/* Container dengan padding yang lebih baik */
.container {
  max-width: 1300px;
  margin: 50px auto;
  padding: 0 40px;
}

/* Banner dengan desain premium */
.banner-container {
  margin: 40px 0;
  padding: 30px;
  background: linear-gradient(135deg, var(--light) 0%, #e8e8e8 100%);
  border-radius: 20px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.15);
  position: relative;
  overflow: hidden;
  border: 1px solid rgba(0,0,0,0.05);
}

.banner-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 4px;
  background: linear-gradient(90deg, var(--gold) 0%, var(--accent) 100%);
}

.banner-image {
  width: 100%;
  border-radius: 15px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.2);
  transition: transform 0.5s ease;
}

.banner-image:hover {
  transform: scale(1.02);
}

/* Menu dengan desain kartu luxury */
.menu {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 30px;
  margin: 50px 0;
}

.menu-title {
  grid-column: 1 / -1;
  text-align: center;
  margin-bottom: 40px;
}

.menu-title h2 {
  font-size: 2.5rem;
  font-weight: 700;
  color: var(--dark);
  margin-bottom: 20px;
  font-family: 'Playfair Display', serif;
  position: relative;
  display: inline-block;
}

.menu-title h2::after {
  content: '';
  position: absolute;
  bottom: -10px;
  left: 50%;
  transform: translateX(-50%);
  width: 80px;
  height: 3px;
  background: linear-gradient(90deg, var(--gold) 0%, var(--accent) 100%);
}

.card {
  background: var(--card);
  border-radius: 20px;
  padding: 30px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.12);
  text-align: center;
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  position: relative;
  overflow: hidden;
  border: 1px solid rgba(0,0,0,0.08);
  display: flex;
  flex-direction: column;
}

.card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 5px;
  background: linear-gradient(90deg, var(--gold) 0%, var(--accent) 100%);
}

.card:hover {
  transform: translateY(-15px) scale(1.02);
  box-shadow: 0 25px 60px rgba(0,0,0,0.2);
  border-color: var(--gold);
}

.card-badge {
  position: absolute;
  top: 15px;
  right: 15px;
  background: linear-gradient(135deg, var(--accent) 0%, #c0392b 100%);
  color: white;
  padding: 5px 12px;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 600;
  box-shadow: 0 4px 10px rgba(233, 69, 96, 0.3);
}

.card-image-container {
  position: relative;
  margin-bottom: 20px;
  overflow: hidden;
  border-radius: 15px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.1);
}

.card-image {
  width: 100%;
  height: 200px;
  object-fit: cover;
  transition: transform 0.5s ease;
}

.card:hover .card-image {
  transform: scale(1.1);
}

.card-content {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.card h3 {
  margin: 0 0 15px;
  color: var(--dark);
  font-size: 1.4rem;
  font-weight: 600;
  font-family: 'Playfair Display', serif;
}

.price-container {
  margin: 15px 0;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 15px;
}

.price {
  font-size: 1.8rem;
  font-weight: 700;
  color: var(--primary);
  font-family: 'Playfair Display', serif;
}

.price::before {
  content: 'Rp';
  font-size: 1rem;
  font-weight: 400;
  color: var(--dark);
}

.original-price {
  font-size: 1.2rem;
  color: #888;
  text-decoration: line-through;
  font-weight: 400;
}

.card button {
  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
  color: white;
  border: none;
  padding: 14px 28px;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 600;
  font-size: 1.1rem;
  transition: all 0.4s ease;
  box-shadow: 0 6px 20px rgba(26, 26, 46, 0.3);
  margin-top: auto;
  border: 2px solid transparent;
}

.card button:hover {
  background: linear-gradient(135deg, var(--accent) 0%, #e74c3c 100%);
  transform: translateY(-3px);
  box-shadow: 0 10px 30px rgba(233, 69, 96, 0.4);
  border-color: var(--gold);
}

/* Platform dengan desain premium */
.platforms {
  display: flex;
  gap: 30px;
  justify-content: center;
  flex-wrap: wrap;
  margin: 60px 0;
}

.platform-card {
  background: var(--card);
  border-radius: 15px;
  padding: 20px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
  border: 1px solid rgba(0,0,0,0.05);
  text-align: center;
  width: 160px;
}

.platform-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 15px 40px rgba(0,0,0,0.15);
  border-color: var(--gold);
}

.platform-card img {
  width: 100px;
  height: 100px;
  border-radius: 12px;
  margin-bottom: 15px;
  transition: transform 0.3s ease;
}

.platform-card:hover img {
  transform: scale(1.1);
}

.platform-card p {
  margin: 0;
  font-weight: 500;
  color: var(--dark);
}

/* Cart floating dengan desain ultra premium */
.cart-float {
  position: fixed;
  right: 30px;
  top: 30px;
  width: 100px;
  height: 100px;
  background: linear-gradient(135deg, var(--dark) 0%, var(--secondary) 100%);
  border-radius: 20px;
  box-shadow: 0 20px 50px rgba(0,0,0,0.35);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  z-index: 999;
  border: 3px solid rgba(255,255,255,0.15);
  transition: all 0.4s ease;
}

.cart-float:hover {
  transform: scale(1.1) rotate(5deg);
  box-shadow: 0 25px 60px rgba(0,0,0,0.4);
  border-color: var(--gold);
}

.cart-float svg {
  width: 36px;
  height: 36px;
  fill: white;
}

.cart-float .badge {
  position: absolute;
  top: -10px;
  right: -10px;
  background: linear-gradient(135deg, var(--accent) 0%, #c0392b 100%);
  color: white;
  border-radius: 50%;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 16px;
  box-shadow: 0 6px 15px rgba(233, 69, 96, 0.4);
  border: 2px solid white;
}

/* Cart panel dengan desain mewah */
.cart-panel {
  position: fixed;
  right: 30px;
  top: 150px;
  width: 400px;
  max-height: 80vh;
  background: linear-gradient(135deg, var(--card) 0%, var(--light) 100%);
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.3);
  overflow: auto;
  padding: 30px;
  z-index: 999;
  display: none;
  border: 1px solid rgba(0,0,0,0.1);
  border-top: 4px solid var(--gold);
}

.cart-panel h3 {
  margin: 0 0 25px;
  color: var(--primary);
  font-size: 1.8rem;
  font-weight: 600;
  font-family: 'Playfair Display', serif;
  border-bottom: 2px solid var(--gold);
  padding-bottom: 15px;
}

.cart-item {
  display: flex;
  gap: 15px;
  align-items: center;
  padding: 15px;
  border-bottom: 1px solid rgba(0,0,0,0.08);
  transition: background 0.2s ease;
}

.cart-item:hover {
  background: rgba(26, 26, 46, 0.03);
}

.cart-item .name {
  flex: 1;
  font-weight: 500;
  font-size: 1.1rem;
}

.cart-summary {
  margin-top: 25px;
  text-align: right;
  font-size: 1.4rem;
  font-weight: 700;
  color: var(--dark);
  padding: 20px 0;
  border-top: 2px solid rgba(0,0,0,0.1);
  font-family: 'Playfair Display', serif;
}

.cart-actions {
  display: flex;
  gap: 15px;
  margin-top: 20px;
}

.cart-actions button {
  flex: 1;
  padding: 14px;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  font-weight: 700;
  transition: all 0.4s ease;
  font-size: 1.1rem;
}

.btn-checkout {
  background: linear-gradient(135deg, var(--accent) 0%, #c0392b 100%);
  color: white;
  box-shadow: 0 6px 20px rgba(233, 69, 96, 0.3);
  border: 2px solid transparent;
}

.btn-checkout:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 30px rgba(233, 69, 96, 0.4);
  border-color: var(--gold);
}

.btn-clear {
  background: #f8f9fa;
  color: var(--dark);
  border: 1px solid rgba(0,0,0,0.1);
}

.btn-clear:hover {
  background: #e9ecef;
  border-color: var(--gold);
}

/* Modal dengan desain ultra elegan */
.modal-content {
  background: linear-gradient(135deg, var(--card) 0%, var(--light) 100%);
  margin: 4% auto;
  border-radius: 25px;
  padding: 40px;
  width: 94%;
  max-width: 600px;
  box-shadow: 0 25px 60px rgba(0,0,0,0.3);
  border: 1px solid rgba(0,0,0,0.1);
  border-top: 4px solid var(--gold);
}

.close-button {
  float: right;
  font-size: 28px;
  color: var(--muted);
  cursor: pointer;
  transition: all 0.2s ease;
  font-weight: 300;
}

.close-button:hover {
  color: var(--dark);
  transform: scale(1.2);
}

.form-row {
  display: flex;
  gap: 15px;
  align-items: center;
  margin-top: 20px;
}

.form-row input[type=number], .form-row input[type=text] {
  padding: 14px;
  border-radius: 12px;
  border: 1px solid #ced4da;
  width: 220px;
  font-size: 16px;
  transition: all 0.2s ease;
  font-family: 'Poppins', sans-serif;
}

.form-row input:focus {
  border-color: var(--primary);
  outline: none;
  box-shadow: 0 0 0 4px rgba(26, 26, 46, 0.1);
  transform: translateY(-2px);
}

.small-btn {
  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
  color: white;
  border: none;
  padding: 12px 18px;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 700;
  transition: all 0.4s ease;
  box-shadow: 0 6px 20px rgba(26, 26, 46, 0.3);
  font-size: 1rem;
}

.small-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 30px rgba(26, 26, 46, 0.4);
  border-color: var(--gold);
}

/* Tombol pengiriman dengan desain premium */
.ship-btn {
  padding: 12px 20px;
  border-radius: 12px;
  border: none;
  cursor: pointer;
  font-weight: 700;
  transition: all 0.4s ease;
  box-shadow: 0 6px 15px rgba(0,0,0,0.1);
  font-size: 1rem;
  display: flex;
  align-items: center;
  gap: 8px;
}

.ship-shopee {
  background: linear-gradient(135deg, #ff6b35 0%, #ff8c42 100%);
  color: white;
}

.ship-gojek {
  background: linear-gradient(135deg, #16a34a 0%, #22c55e 100%);
  color: white;
}

.ship-grab {
  background: linear-gradient(135deg, #00b14f 0%, #10b981 100%);
  color: white;
}

.ship-pickup {
  background: linear-gradient(135deg, #6b7280 0%, #9ca3af 100%);
  color: white;
}

.ship-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 25px rgba(0,0,0,0.15);
  border-color: var(--gold);
}

/* Footer note dengan desain elegan */
.footer-note {
  font-size: 0.95rem;
  color: var(--muted);
  margin-top: 20px;
  text-align: center;
  font-style: italic;
  font-family: 'Playfair Display', serif;
}

/* Tombol kado dengan desain ultra mewah */
.gift-btn {
  position: fixed;
  right: 30px;
  top: 150px;
  background: linear-gradient(135deg, var(--gold) 0%, var(--gold-dark) 100%);
  color: var(--dark);
  border: none;
  padding: 15px 20px;
  border-radius: 25px;
  box-shadow: 0 10px 30px rgba(212, 175, 55, 0.4);
  cursor: pointer;
  font-weight: 800;
  z-index: 999;
  display: flex;
  align-items: center;
  gap: 12px;
  transition: all 0.4s ease;
  border: 3px solid rgba(255,255,255,0.3);
  font-family: 'Playfair Display', serif;
}

.gift-btn:hover {
  background: linear-gradient(135deg, #fff 0%, var(--gold) 100%);
  transform: scale(1.1) rotate(2deg);
  box-shadow: 0 15px 40px rgba(212, 175, 55, 0.6);
  border-color: var(--dark);
}

/* Event button dengan desain elegan */
.event-btn {
  position: fixed;
  right: 30px;
  top: 220px;
  background: linear-gradient(135deg, var(--accent) 0%, #c0392b 100%);
  color: white;
  border: none;
  padding: 15px 20px;
  border-radius: 25px;
  box-shadow: 0 10px 30px rgba(233, 69, 96, 0.4);
  cursor: pointer;
  font-weight: 800;
  z-index: 999;
  display: flex;
  align-items: center;
  gap: 12px;
  transition: all 0.4s ease;
  font-family: 'Playfair Display', serif;
}

.event-btn:hover {
  transform: scale(1.1);
  box-shadow: 0 15px 40px rgba(233, 69, 96, 0.5);
}

/* Gift popup dengan desain mewah */
.gift-popup {
  display: none;
  position: fixed;
  left: 0; top: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.6);
  z-index: 10000;
  animation: fadeIn 0.4s ease;
}

.gift-popup-content {
  background: linear-gradient(135deg, var(--card) 0%, var(--light) 100%);
  border-radius: 25px;
  padding: 40px;
  text-align: center;
  width: 90%;
  max-width: 400px;
  margin: 15% auto;
  box-shadow: 0 20px 60px rgba(0,0,0,0.3);
  border: 1px solid rgba(0,0,0,0.1);
  border-top: 4px solid var(--gold);
  animation: popIn 0.5s ease;
}

.gift-popup-content h2 {
  color: var(--accent);
  margin-bottom: 20px;
  font-size: 2.2rem;
  font-family: 'Playfair Display', serif;
}

.gift-value {
  font-size: 3rem;
  font-weight: 800;
  color: var(--gold);
  margin-top: 25px;
  text-shadow: 0 3px 15px rgba(212, 175, 55, 0.4);
  font-family: 'Playfair Display', serif;
}

.gift-close {
  position: absolute;
  right: 30px;
  top: 20px;
  font-size: 32px;
  cursor: pointer;
  color: var(--muted);
  transition: all 0.2s ease;
}

.gift-close:hover {
  color: var(--dark);
  transform: scale(1.2);
}

/* Floating WA dengan desain premium */
.whatsapp-float {
  position: fixed;
  left: 30px;
  bottom: 30px;
  z-index: 999;
  transition: all 0.3s ease;
}

.whatsapp-float img {
  width: 80px;
  height: 80px;
  border-radius: 20px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.3);
  transition: all 0.3s ease;
  border: 4px solid rgba(255,255,255,0.2);
}

.whatsapp-float img:hover {
  transform: translateY(-10px) scale(1.1);
  box-shadow: 0 20px 50px rgba(0,0,0,0.4);
}

/* Form acara dengan desain mewah */
#eventForm {
  margin-top: 80px;
  padding: 80px 20px;
  background: linear-gradient(180deg, var(--light) 0%, #ffffff 100%);
  border-top: 4px solid var(--gold);
}

#eventForm h2 {
  text-align: center;
  color: var(--primary);
  font-size: 2.2rem;
  margin-bottom: 40px;
  font-weight: 700;
  font-family: 'Playfair Display', serif;
}

.event-form-container {
  background: linear-gradient(135deg, var(--card) 0%, var(--light) 100%);
  padding: 40px;
  border-radius: 25px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.15);
  border: 1px solid rgba(0,0,0,0.08);
  max-width: 700px;
  margin: 0 auto;
}

#eventForm input, #eventForm select, #eventForm textarea {
  padding: 16px;
  border-radius: 15px;
  border: 1px solid #ced4da;
  font-size: 16px;
  transition: all 0.2s ease;
  font-family: 'Poppins', sans-serif;
}

#eventForm input:focus, #eventForm select:focus, #eventForm textarea:focus {
  border-color: var(--primary);
  outline: none;
  box-shadow: 0 0 0 4px rgba(26, 26, 46, 0.1);
  transform: translateY(-2px);
}

#eventForm button[type="submit"] {
  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
  color: white;
  border: none;
  padding: 16px 32px;
  border-radius: 15px;
  font-size: 18px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.4s ease;
  box-shadow: 0 8px 25px rgba(26, 26, 46, 0.3);
  font-family: 'Playfair Display', serif;
  margin-top: 20px;
}

#eventForm button[type="submit"]:hover {
  transform: translateY(-4px);
  box-shadow: 0 15px 40px rgba(26, 26, 46, 0.4);
  border-color: var(--gold);
}

/* Bagian ulasan dengan desain elegan */
#ulasan {
  margin-top: 80px;
  padding: 80px 20px;
  background: linear-gradient(180deg, #ffffff 0%, var(--light) 100%);
  border-top: 4px solid var(--gold);
}

#ulasan h2 {
  text-align: center;
  color: var(--primary);
  font-size: 2.2rem;
  margin-bottom: 40px;
  font-weight: 700;
  font-family: 'Playfair Display', serif;
}

#formUlasan {
  background: linear-gradient(135deg, var(--card) 0%, var(--light) 100%);
  border-radius: 25px;
  box-shadow: 0 15px 40px rgba(0,0,0,0.15);
  padding: 40px;
  max-width: 600px;
  margin: 0 auto 50px;
  border: 1px solid rgba(0,0,0,0.08);
}

#formUlasan input, #formUlasan textarea {
  width: 100%;
  padding: 16px;
  border-radius: 15px;
  border: 1px solid #ced4da;
  font-size: 16px;
  transition: all 0.2s ease;
  font-family: 'Poppins', sans-serif;
}

#formUlasan input:focus, #formUlasan textarea:focus {
  border-color: var(--primary);
  outline: none;
  box-shadow: 0 0 0 4px rgba(26, 26, 46, 0.1);
  transform: translateY(-2px);
}

#formUlasan button[type="submit"] {
  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
  color: white;
  border: none;
  padding: 16px 32px;
  border-radius: 15px;
  font-size: 18px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.4s ease;
  box-shadow: 0 8px 25px rgba(26, 26, 46, 0.3);
  width: 100%;
  font-family: 'Playfair Display', serif;
}

#formUlasan button[type="submit"]:hover {
  transform: translateY(-4px);
  box-shadow: 0 15px 40px rgba(26, 26, 46, 0.4);
  border-color: var(--gold);
}

/* Kartu ulasan dengan desain mewah */
.kartu-ulasan {
  background: linear-gradient(135deg, var(--card) 0%, var(--light) 100%);
  border-radius: 20px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.12);
  padding: 30px;
  border-left: 8px solid var(--gold);
  opacity: 0;
  transform: translateY(30px);
  animation: fadeInUp 0.6s ease forwards;
  border: 1px solid rgba(0,0,0,0.05);
  transition: all 0.3s ease;
  margin-bottom: 30px;
}

.kartu-ulasan:hover {
  transform: translateY(-8px);
  box-shadow: 0 20px 50px rgba(0,0,0,0.18);
  border-color: var(--gold);
}

.kartu-ulasan strong {
  color: var(--primary);
  font-size: 20px;
  font-weight: 600;
  font-family: 'Playfair Display', serif;
}

.kartu-ulasan p {
  margin: 20px 0;
  color: #444;
  line-height: 1.7;
  font-size: 16px;
  font-family: 'Poppins', sans-serif;
}

.kartu-ulasan small {
  color: #6c757d;
  font-size: 14px;
  font-family: 'Poppins', sans-serif;
}

/* Download link dengan desain elegan */
.download-link {
  display: inline-block;
  background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
  color: white;
  padding: 16px 36px;
  border-radius: 15px;
  text-decoration: none;
  font-weight: 700;
  font-size: 18px;
  margin: 40px 0;
  transition: all 0.4s ease;
  box-shadow: 0 8px 25px rgba(26, 26, 46, 0.3);
  font-family: 'Playfair Display', serif;
  border: 2px solid transparent;
}

.download-link:hover {
  transform: translateY(-4px);
  box-shadow: 0 15px 40px rgba(26, 26, 46, 0.4);
  border-color: var(--gold);
}

/* Responsive improvements */
@media(max-width: 768px) {
  .brand {
    flex-direction: column;
    text-align: center;
    gap: 20px;
  }
  
  .menu {
    grid-template-columns: 1fr;
  }
  
  .cart-panel {
    right: 15px;
    left: 15px;
    width: auto;
    top: auto;
    bottom: 20px;
  }
  
  .gift-btn {
    right: 15px;
    top: 120px;
  }
  
  .event-btn {
    right: 15px;
    top: 190px;
  }
  
  .form-row {
    flex-direction: column;
    align-items: stretch;
  }
  
  .form-row input[type=number], .form-row input[type=text] {
    width: 100%;
  }
  
  .whatsapp-float {
    left: 15px;
    bottom: 15px;
  }
  
  .whatsapp-float img {
    width: 70px;
    height: 70px;
  }
}

/* Animasi tambahan untuk interaktivitas */
@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

@keyframes shimmer {
  0% { background-position: -1000px 0; }
  100% { background-position: 1000px 0; }
}

.btn-checkout:active, .gift-btn:active, .event-btn:active {
  animation: pulse 0.3s ease;
}

/* Loading animation */
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.loading {
  border: 3px solid rgba(255,255,255,0.3);
  border-top: 3px solid var(--gold);
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
}

/* Scrollbar customization */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: var(--light);
  border-radius: 10px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(135deg, var(--gold) 0%, var(--gold-dark) 100%);
  border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(135deg, var(--accent) 0%, #c0392b 100%);
    }
  </style>
</head>
<body>

<header>
  <div class="brand">
    <img class="logo-small" src="logocilok.png" alt="Logo Cilok">
    <div>
      <h1>Cilok Goang Teh Desi</h1>
      <p>Wisma Agung, Jl. KH Usman Dhomiri RT 02 RW 17, Padasuka ‚Äî Buka 09:00‚Äì24:00</p>
    </div>
  </div>
</header>

<div class="container">
  <!-- Banner GIF -->
<div style="text-align:center;margin:10px 0;">
  <img src="Planet Arcadia.gif" alt="Promo Cilok Goang Teh Desi" 
       style="max-width:100%;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.12)">
</div>

  <section>
    <h2 style="text-align:center;color:var(--primary)">Menu Unggulan</h2>
    <div class="menu" id="menuList">
      <!-- Menu akan dirender lewat JS -->
    </div>
  </section>

  <div style="text-align:center;margin-top:18px">
    <a style="background:var(--primary);color:#fff;padding:10px 16px;border-radius:8px;text-decoration:none;font-weight:700" href="MENU.pdf" download>üì• Download Menu (PDF)</a>
  </div>
</div>

<!-- Cart floating -->
<div class="cart-float" id="cartBtn" title="Lihat Keranjang">
  <svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M6 6h15l-1.68 8.39A2 2 0 0 1 17.36 16H8.64a2 2 0 0 1-1.96-1.61L5 2H2" stroke="#333" stroke-width="1.2" stroke-linecap="round"/></svg>
  <div class="badge" id="cartCount">0</div>
</div>

<!-- Gift button (di bawah cart) -->
<button id="giftBtn" class="gift-btn" title="Buka Kado ‚Äî dapatkan voucher!">
  <span style="font-size:18px">üéÅ</span>
  <span style="font-size:13px;line-height:1">Buka Kado</span>
</button>

  <!-- Popup Kado -->
<div id="giftPopup" class="gift-popup">
  <div class="gift-popup-content">
    <span id="closeGift" class="gift-close">&times;</span>
    <h2>üéâ Selamat!</h2>
    <p id="giftText">Kamu mendapatkan voucher spesial üéÅ</p>
    <div class="gift-value" id="giftValue">Rp0</div>
  </div>
</div>

<!-- Cart panel -->
<div class="cart-panel" id="cartPanel" aria-hidden="true">
  <h3>Keranjang Anda</h3>
  <div id="cartItems"></div>
  <div class="cart-summary" id="cartTotal">Total: Rp0</div>
  <div class="cart-actions">
    <button id="clearCart" class="btn-clear">Kosongkan</button>
    <button id="checkoutBtn" class="btn-checkout">Checkout</button>
  </div>
  <div style="margin-top:12px;text-align:center">
    <p style="margin:6px 0">Atau pesan langsung via:</p>
    <a href="https://spf.shopee.co.id/1g9uILh8Vf" target="_blank"><img src="shopee-icon.svg" style="width:90px;margin:6px;" alt="Shopee"></a>
    <a href="https://gofood.co.id/bandung/restaurant/cilok-goang-teh-desi-cimahi-bdf5f39f-21b7-4f84-8c38-33deeed7b509" target="_blank"><img src="gojek-svgrepo-com.svg" style="width:90px;margin:6px;" alt="GoFood"></a>
    <a href="https://r.grab.com/g/6-20251011_170831_e03d2f193b48446c9ee266e748eda4b7_MEXMPS-6-CZMAV2KKSEJHJN" target="_blank"><img src="grab-logo-svgrepo-com.svg" style="width:90px;margin:6px;" alt="Grab"></a>
  </div>
</div>

<!-- Checkout Modal -->
<div id="checkoutModal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal-content">
    <span class="close-button" id="modalClose">&times;</span>
    <h3>Checkout ‚Äî Pilih Pengiriman & Pembayaran</h3>

    <form id="checkoutForm">
      <div style="margin-top:8px">
        <label style="font-weight:700">Pilih Layanan Pengiriman</label>
        <div style="margin-top:8px">
          <label class="inline"><input type="radio" name="shipping" value="Shopee" checked> <button type="button" class="ship-btn ship-shopee">Shopee SPX</button></label>
          <label class="inline"><input type="radio" name="shipping" value="Gojek"> <button type="button" class="ship-btn ship-gojek">Gojek GoSend</button></label>
          <label class="inline"><input type="radio" name="shipping" value="Grab"> <button type="button" class="ship-btn ship-grab">GrabExpress</button></label>
          <label class="inline"><input type="radio" name="shipping" value="Pickup"> <button type="button" class="ship-btn ship-pickup">Ambil di Tempat</button></label>
        </div>
      </div>

      <div id="shippingBlock" style="margin-top:12px">
        <div class="form-row">
          <label style="min-width:150px;font-weight:600">Masukkan jarak (km)</label>
          <input id="jarakInputModal" type="number" min="0" placeholder="contoh: 6">
          <button type="button" id="btnHitungModal" class="small-btn">Hitung Ongkir</button>
<button type="button" id="btnLokasi" class="small-btn" style="background:#00796b">Deteksi Lokasi Saya üìç</button>
<a href="https://www.google.com/maps/dir/?api=1&destination=-6.878372,107.542569&travelmode=driving"
   target="_blank"
   style="display:inline-block;margin-top:8px;font-weight:700;color:var(--primary);text-decoration:none">
   üåç Cek jarak & estimasi di Google Maps
</a>
  </div>
        <p id="hasilOngkirModal" style="margin-top:8px;font-weight:800"></p>
      </div>

      <hr style="margin-top:12px">

      <div style="margin-top:10px">
        <label style="font-weight:700">Metode Pembayaran</label><br>
        <label class="inline"><input type="radio" name="paymentMethod" value="Transfer" checked> Transfer Bank</label>
        <label class="inline"><input type="radio" name="paymentMethod" value="QRIS"> QRIS</label>
      </div>

      <div id="paymentArea" style="margin-top:10px"></div>

      <div style="margin-top:14px;display:flex;gap:8px">
        <button type="submit" class="small-btn" style="flex:1">Konfirmasi & Kirim ke WhatsApp</button>
        <button type="button" id="openPlatformBtn" class="small-btn" style="background:#00796b;flex:1">Buka Aplikasi</button>
      </div>

      <p class="footer-note">Estimasi ongkir bersifat perkiraan. Untuk tarif resmi, cek aplikasi layanan pengiriman.</p>
    </form>
  </div>
</div>

<!-- Floating WA -->
<a href="https://wa.me/6281212629516" target="_blank" title="Chat Teh Desi" style="position:fixed;left:18px;bottom:18px;z-index:999">
  <img src="whatsapp-svgrepo-com.svg" style="width:62px;height:62px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.18)">
</a>

<script>
/* ===== DATA MENU (sesuaikan / tambah item di sini) ===== */
const MENU = [
   { id: 'm1', name: 'Paket Hemat 1', price: 15000, img:'hemat 1.jpg' },
  { id: 'm2', name: 'Paket Hemat 2', price: 15000, img:'hemat 2.jpg' },
  { id: 'm3', name: 'Paket Hemat 3', price: 13000, img:'paket 3.jpg' },
  { id: 'm4', name: 'Cilok Goang Tulang', price: 12000, img:'cilok goang tulang.jpg' },
  { id: 'm5', name: 'Cilok Goang Tofu Sehah', price: 10000, img:'tofu.jpg' },
  { id: 'm6', name: 'Cilok Granat', price: 10000, img:'cilok granat.jpg' },
  { id: 'm7', name: 'Cilok Goang Sambal Ijo', price: 10000, img:'cilok goang sambal ijo.jpg' },
  { id: 'm8', name: 'Cilok Goang Ceker Sambal Ijo', price: 12000, img:'cilok goang ceker samal ijo.jpg' },
  { id: 'm9', name: 'Cilok Kuah Boncabe', price: 10000, img:'cilok kuah endolita.jpg' },
  { id: 'm10', name: 'Mie Cilok Goang', price: 10000, img:'mie cilok goang.jpg' },
  { id: 'm11', name: 'Cilok Goang Ceker Pedas', price: 12000, img:'cilok kuah ceker pedas.jpg' },
  { id: 'm12', name: 'Cilok Kuah Endolita', price: 10000, img:'cilok kuah endolita.jpg' },
  { id: 'm13', name: 'Seblak Kerupuk Endolita', price: 10000, img:'seblak kerupuk.jpg' },
  { id: 'm14', name: 'Seblak Mie kuah Telur Pedas', price: 10000, img:'seblak mie.jpg' },
  { id: 'm15', name: 'Seblok Endolita', price: 10000, img:'seblok cilok.jpg' },
  { id: 'm16', name: 'Seblok Ceker Endolita', price: 15000, img:'seblok.jpg' },
  { id: 'm17', name: 'Seblak Kerupuk Rafael', price: 12000, img:'rafael.jpg' },
  { id: 'm18', name: 'Seblak 4 Varian', price: 10000, img:'seblak 4.jpg' },
  { id: 'm19', name: 'Seblak 5 Varian', price: 12000, img:'seblak 5.jpg' },
  { id: 'm20', name: 'Seblak 6 Varian', price: 15000, img:'seblak 6.jpg' },
  { id: 'm21', name: 'Cilok Goreng Asin Keju', price: 10000, img:'asin keju.jpg' },
  { id: 'm22', name: 'Cilok Goreng Keju Balado', price: 10000, img:'cilok balado.jpg' },
  { id: 'm23', name: 'Cilok Goreng Jagung Bakar', price: 10000, img:'jagung bakar.jpg' },
  { id: 'm24', name: 'CIGO Cilok Goang Setan Merah', price: 10000, img:'setan merah.jpg' },
  { id: 'm25', name: 'Cilok Goreng Manis Pedas', price: 10000, img:'cilok goreng manis pedas.jpg' },
  { id: 'm26', name: 'Cilok Goreng Asin Pedas', price: 10000, img:'cilok goreng asin pedas.jpg' },
  { id: 'm28', name: 'Cilok Bumbu Kacang Lumer', price: 10000, img:'cilok bumbu kacang.jpg' },
  { id: 'm29', name: 'Cilok Goreng Telur Puyuh', price: 10000, img:'cilok crispy telor puyuh.jpg' },
  { id: 'm30', name: 'Cilok Goreng Crispy', price: 10000, img:'cilok goreng crispy.jpg' },
  { id: 'm31', name: 'Rujak Cireng', price: 10000, img:'cireng banjur.jpg' },
  { id: 'm32', name: 'Cireng Bumbu Kacang', price: 10000, img:'cireng bumbu kacang.jpg' },
  { id: 'm33', name: 'Cireng Isi Ayam Suir', price: 10000, img:'cireng isi suwir ayam.jpg' },
  { id: 'm34', name: 'Cireng Bajur Mantul', price: 10000, img:'cireng banjur.jpg' },
  { id: 'm35', name: 'Cilok Goang INSTAN KOMPLIT', price: 12000, img:'instan koplit.jpg' },
  { id: 'm42', name: 'Makroni Ngoonah Pedes Sedang', price: 5000, img:'makroni pedes sedang.jpg' },
  { id: 'm43', name: 'Makroni Ngoonah Pedes Banget', price: 5000, img:'makroni pedas daun jeruk.jpg' },
  { id: 'm44', name: 'Makroni Ngoonah ORIGINAL', price: 5000, img:'makroni original.jpg' },
  { id: 'm45', name: 'Jus Jeruk Peras', price: 6000, img:'es jeruk.jpg' },
  { id: 'm46', name: 'Es Lemon Tea', price: 6000, img:'lemon tea.jpg' },
  { id: 'm47', name: 'Capuccino Cincau', price: 6000, img:'capucino cincau.jpeg' },
  { id: 'm48', name: 'Thai Tea', price: 6000, img:'thai tea.jpeg' },
  { id: 'm49', name: 'Green Tea', price: 6000, img:'green tea.jpg' }
];

/* ===== STATE ===== */
let cart = JSON.parse(localStorage.getItem('cg_cart') || '[]');
const rupiah = n => 'Rp' + n.toLocaleString('id-ID');
function saveCart(){ localStorage.setItem('cg_cart', JSON.stringify(cart)); renderCartCount(); }

/* ===== RENDER MENU ===== */
const menuList = document.getElementById('menuList');
function renderMenu(){
  menuList.innerHTML = '';
  MENU.forEach(item => {
    const div = document.createElement('div');
    div.className = 'card';
    div.innerHTML = `
      <img src="${item.img}" alt="${item.name}">
      <h3>${item.name}</h3>
      <div class="price">${rupiah(item.price)}</div>
      <button onclick="addToCart('${item.id}')">Tambah ke Keranjang üõí</button>
    `;
    menuList.appendChild(div);
  });
}
renderMenu();

/* ===== CART ===== */
function addToCart(id){
  const item = MENU.find(m => m.id === id);
  if(!item) return;
  const found = cart.find(c => c.id === id);
  if(found) found.qty++;
  else cart.push({ id:item.id, name:item.name, price:item.price, qty:1 });
  saveCart();
  renderCartPanel();
  showCartPanel();
}

function renderCartCount(){
  const c = cart.reduce((s,i)=>s+i.qty,0);
  document.getElementById('cartCount').textContent = c;
}
renderCartCount();

const cartBtn = document.getElementById('cartBtn');
const cartPanel = document.getElementById('cartPanel');
const cartItemsEl = document.getElementById('cartItems');
const cartTotalEl = document.getElementById('cartTotal');

cartBtn.addEventListener('click', ()=> {
  cartPanel.style.display = (cartPanel.style.display === 'block') ? 'none' : 'block';
});

function showCartPanel(){ renderCartPanel(); cartPanel.style.display='block'; cartPanel.setAttribute('aria-hidden','false'); }

/* ===== VOUCHER STATE ===== */
let voucherValue = 0;
let voucherUsed = false;

/* ===== RENDER CART PANEL (satu fungsi terpusat, menampilkan voucher jika ada) ===== */
function renderCartPanel(){
  cartItemsEl.innerHTML = '';
  if(cart.length === 0){
    cartItemsEl.innerHTML = '<p style="color:#666">Keranjang kosong.</p>';
    cartTotalEl.textContent = 'Total: Rp0';
    renderCartCount();
    return;
  }
  let total = 0;
  cart.forEach((it, idx) => {
    const sub = it.price * it.qty;
    total += sub;
    const node = document.createElement('div');
    node.className = 'cart-item';
    node.innerHTML = `
      <div class="name">${it.name}</div>
      <div style="min-width:120px;text-align:right">
        <div style="font-weight:700">${rupiah(it.price)}</div>
        <div style="margin-top:6px;display:flex;gap:6px;justify-content:flex-end">
          <button class="small-btn" onclick="changeQty(${idx},-1)">-</button>
          <span style="padding:0 8px">${it.qty}</span>
          <button class="small-btn" onclick="changeQty(${idx},1)">+</button>
        </div>
      </div>
    `;
    cartItemsEl.appendChild(node);
  });

  let totalSetelahVoucher = total;
  if(voucherUsed && voucherValue > 0){
    totalSetelahVoucher = Math.max(0, total - voucherValue);
  }

  cartTotalEl.innerHTML = `
    Subtotal: ${rupiah(total)}<br>
    ${voucherUsed ? `<span style="color:green">üéÅ Voucher: -${rupiah(voucherValue)}</span><br>` : ''}
    <b>Total: ${rupiah(totalSetelahVoucher)}</b>
  `;
  saveCart();
  renderCartCount();
}

/* ===== UBAH JUMLAH ===== */
function changeQty(i, d){
  cart[i].qty += d;
  if(cart[i].qty <= 0) cart.splice(i,1);
  renderCartPanel();
}
document.getElementById('clearCart').addEventListener('click', ()=>{
  if(confirm('Kosongkan keranjang?')){ cart=[]; voucherUsed=false; voucherValue=0; saveCart(); renderCartPanel(); cartPanel.style.display='none'; }
});

/* ===== CHECKOUT & ONGKIR ===== */
const checkoutBtn = document.getElementById('checkoutBtn');
const modal = document.getElementById('checkoutModal');
const modalClose = document.getElementById('modalClose');
const checkoutForm = document.getElementById('checkoutForm');
const hasilOngkirModal = document.getElementById('hasilOngkirModal');

checkoutBtn.addEventListener('click', ()=> {
  if(cart.length === 0){ alert('Keranjang kosong ‚Äî tambahkan menu dulu.'); return; }
  modal.style.display='block'; modal.setAttribute('aria-hidden','false');
  updatePaymentArea(); updateShippingBlock();
});
modalClose.addEventListener('click', ()=> { modal.style.display='none'; });
window.addEventListener('click', (e)=>{ if(e.target === modal) modal.style.display='none'; });

/* payment area update */
function updatePaymentArea(){
  const val = document.querySelector('input[name="paymentMethod"]:checked')?.value;
  const area = document.getElementById('paymentArea');
  if(!val) { area.innerHTML=''; return; }
  if(val === 'Transfer'){
    area.innerHTML = '<p style="font-weight:700">Transfer ke BCA:<br><span style="font-size:1.05rem">1390997651 a/n Desirusmianti</span></p>';
  } else {
    area.innerHTML = '<p style="font-weight:700">Bayar via QRIS:</p><p><img src="qris-cilokgoang.jpeg" style="width:180px;border-radius:8px"></p>';
  }
}
document.querySelectorAll('input[name="paymentMethod"]').forEach(r => r.addEventListener('change', updatePaymentArea));
updatePaymentArea();

/* shipping block dynamic */
function updateShippingBlock(){
  const selected = document.querySelector('input[name="shipping"]:checked')?.value;
  const block = document.getElementById('shippingBlock');
  if(selected === 'Pickup'){
    block.innerHTML = '<p style="font-weight:700">üè† Ambil di Tempat ‚Äî Ongkir: Rp0</p>';
    hasilOngkirModal.textContent = '';
    return;
  }
  block.innerHTML = `
    <div class="form-row">
      <label style="min-width:150px;font-weight:600">Masukkan jarak (km)</label>
      <input id="jarakInputModal" type="number" min="0" placeholder="contoh: 6">
      <button type="button" id="btnHitungModal" class="small-btn">Hitung Ongkir</button>
    </div>
    <p id="hasilOngkirModal" style="margin-top:8px;font-weight:800"></p>
  `;
  document.getElementById('btnHitungModal').addEventListener('click', ()=> {
    const jar = parseFloat(document.getElementById('jarakInputModal').value);
    if(isNaN(jar) || jar <= 0){ document.getElementById('hasilOngkirModal').textContent = '‚ö†Ô∏è Masukkan jarak yang benar.'; return; }
    const service = document.querySelector('input[name="shipping"]:checked').value;
    const ong = kalkulasiOngkir(service, jar);
    const link = linkByService(service);
    document.getElementById('hasilOngkirModal').innerHTML = `üöö Estimasi ongkir (${service}): <b>${rupiah(ong)}</b><br><a id="openAppLink" href="${link}" target="_blank" style="font-weight:700;color:var(--primary)">‚û°Ô∏è Buka di aplikasi ${service}</a>`;
  });
}
document.querySelectorAll('input[name="shipping"]').forEach(r => r.addEventListener('change', updateShippingBlock));
updateShippingBlock();
function updateShippingBlock(){
  const selected = document.querySelector('input[name="shipping"]:checked')?.value;
  const block = document.getElementById('shippingBlock');
  if(selected === 'Pickup'){
    block.innerHTML = '<p style="font-weight:700">üè† Ambil di Tempat ‚Äî Ongkir: Rp0</p>';
    hasilOngkirModal.textContent = '';
    return;
  }
  block.innerHTML = `
    <div class="form-row">
      <label style="min-width:150px;font-weight:600">Masukkan jarak (km)</label>
      <input id="jarakInputModal" type="number" min="0" placeholder="contoh: 6">
      <button type="button" id="btnHitungModal" class="small-btn">Hitung Ongkir</button>
      <button type="button" id="btnLokasi" class="small-btn" style="background:#00796b">Deteksi Lokasi Saya üìç</button>
    </div>
    <a href="https://www.google.com/maps/dir/?api=1&destination=-6.878372,107.542569&travelmode=driving"
       target="_blank"
       style="display:inline-block;margin-top:8px;font-weight:700;color:var(--primary);text-decoration:none">
       üåç Cek jarak & estimasi di Google Maps
    </a>
    <p id="hasilOngkirModal" style="margin-top:8px;font-weight:800"></p>
  `;

  document.getElementById('btnHitungModal').addEventListener('click', ()=> {
    const jar = parseFloat(document.getElementById('jarakInputModal').value);
    if(isNaN(jar) || jar <= 0){ document.getElementById('hasilOngkirModal').textContent = '‚ö†Ô∏è Masukkan jarak yang benar.'; return; }
    const service = document.querySelector('input[name="shipping"]:checked').value;
    const ong = kalkulasiOngkir(service, jar);
    const link = linkByService(service);
    document.getElementById('hasilOngkirModal').innerHTML = `üöö Estimasi ongkir (${service}): <b>${rupiah(ong)}</b><br><a id="openAppLink" href="${link}" target="_blank" style="font-weight:700;color:var(--primary)">‚û°Ô∏è Buka di aplikasi ${service}</a>`;
  });

  // === tombol deteksi lokasi otomatis ===
  document.getElementById('btnLokasi').addEventListener('click', ()=>{
    if(navigator.geolocation){
      navigator.geolocation.getCurrentPosition(function(pos){
        const lat = pos.coords.latitude;
        const lon = pos.coords.longitude;
        const tokoLat = -6.878372;  // ganti sesuai lokasi toko
        const tokoLon = 107.542569;
        const R = 6371;
        const dLat = (tokoLat - lat) * Math.PI / 180;
        const dLon = (tokoLon - lon) * Math.PI / 180;
        const a = Math.sin(dLat/2)**2 + Math.cos(lat*Math.PI/180)*Math.cos(tokoLat*Math.PI/180)*Math.sin(dLon/2)**2;
        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
        const jarak = (R * c).toFixed(2);
        document.getElementById('jarakInputModal').value = jarak;
        alert('‚úÖ Lokasi terdeteksi! Jarak kamu sekitar ' + jarak + ' km dari Cilok Goang Teh Desi.');
      }, function(){
        alert('‚ö†Ô∏è Gagal mendeteksi lokasi. Pastikan izin lokasi diaktifkan.');
      });
    } else {
      alert('Browser kamu tidak mendukung deteksi lokasi otomatis.');
    }
  });
}

/* ongkir rules */
function kalkulasiOngkir(service, jarak){
  let base = 0, per = 0;
  if(service === 'Shopee'){ base = 8000; per = 1500; }
  if(service === 'Gojek'){ base = 9000; per = 1500; }
  if(service === 'Grab'){ base = 9000; per = 1500; }
  if(jarak > 5){
    const lebih = Math.ceil(jarak - 5);
    return base + (lebih * per);
  }
  return base;
}

function linkByService(service){
  if(service === 'Shopee') return 'https://spf.shopee.co.id/1g9uILh8Vf';
  if(service === 'Gojek') return 'https://gofood.co.id/bandung/restaurant/cilok-goang-teh-desi-cimahi-bdf5f39f-21b7-4f84-8c38-33deeed7b509';
  if(service === 'Grab') return 'https://r.grab.com/g/6-20251011_170831_e03d2f193b48446c9ee266e748eda4b7_MEXMPS-6-CZMAV2KKSEJHJN';
  return '#';
}

/* open app button (buka platform yg dipilih) */
document.getElementById('openPlatformBtn').addEventListener('click', ()=>{
  const service = document.querySelector('input[name="shipping"]:checked')?.value || 'Shopee';
  const link = linkByService(service);
  window.open(link, '_blank');
});

/* submit checkout -> format pesan WA */
checkoutForm.addEventListener('submit', (e) => {
  e.preventDefault();
  const pay = document.querySelector('input[name="paymentMethod"]:checked')?.value || 'Transfer';
  const ship = document.querySelector('input[name="shipping"]:checked')?.value || 'Shopee';
  let subtotal = 0;
  let pesan = 'Halo Teh Desi\n\nSaya mau pesan:\n';
  cart.forEach(it => {
    const sub = it.price * it.qty;
    subtotal += sub;
    pesan += `- ${it.name} x${it.qty} = Rp${sub.toLocaleString('id-ID')}\n`;
  });
  let jarVal = parseFloat(document.getElementById('jarakInputModal')?.value || 0);
  let ongkir = 0;
  if(ship !== 'Pickup'){
    if(isNaN(jarVal) || jarVal <= 0){ alert('Masukkan jarak (km) untuk estimasi ongkir.'); return; }
    ongkir = kalkulasiOngkir(ship, jarVal);
  }
  let totalAkhir = subtotal + ongkir - (voucherUsed ? voucherValue : 0);
  pesan += `\nMetode Pengiriman: ${ship}\nEstimasi Ongkir: Rp${ongkir.toLocaleString('id-ID')}\nMetode Pembayaran: ${pay}\nVoucher: -Rp${(voucherUsed?voucherValue:0).toLocaleString('id-ID')}\nTotal: Rp${totalAkhir.toLocaleString('id-ID')}\n\nAlamat / Catatan: `;
  const waUrl = 'https://wa.me/6281212629516?text=' + encodeURIComponent(pesan);
  window.open(waUrl, '_blank');

  // reset
  cart = [];
  voucherUsed = false;
  voucherValue = 0;
  saveCart();
  renderCartPanel();
  modal.style.display = 'none';
});

/* ===== VOUCHER (tombol kado) ===== */
const giftBtn = document.getElementById('giftBtn');

function confettiEffect() {
  const count = 20;
  for(let i=0;i<count;i++){
    const conf = document.createElement('div');
    conf.style.position = 'fixed';
    conf.style.width = '7px';
    conf.style.height = '7px';
    conf.style.borderRadius = '50%';
    conf.style.background = ['#ff7043','#ffca28','#66bb6a','#42a5f5'][Math.floor(Math.random()*4)];
    conf.style.top = (giftBtn.getBoundingClientRect().top + 10) + 'px';
    conf.style.left = (giftBtn.getBoundingClientRect().left + 10) + 'px';
    conf.style.zIndex = 10000;
    conf.style.opacity = 1;
    document.body.appendChild(conf);

    const angle = Math.random() * 2 * Math.PI;
    const distance = 40 + Math.random() * 80;
    const dx = Math.cos(angle) * distance;
    const dy = Math.sin(angle) * distance;

    conf.animate([
      { transform:`translate(0,0)`, opacity:1 },
      { transform:`translate(${dx}px,${dy}px)`, opacity:0 }
    ], { duration:800 + Math.random()*600, easing:'ease-out' });

    setTimeout(()=>conf.remove(), 1400);
  }
}

giftBtn.addEventListener('click', () => {
  if(voucherUsed){
    alert('üé´ Voucher sudah didapatkan untuk transaksi ini.');
    return;
  }

  // animasi kecil tombol & confetti
  giftBtn.style.transform = 'scale(0.96)';
  setTimeout(()=>giftBtn.style.transform='scale(1)', 120);
  confettiEffect();

  const totalBelanja = cart.reduce((s,i)=>s+(i.price*i.qty),0);
  if(totalBelanja > 50000){
    voucherValue = 5000;
  } else {
    const opsi = [1000,1500,2000,2500,3000,3500];
    voucherValue = opsi[Math.floor(Math.random()*opsi.length)];
  }

  // tampilkan popup
  document.getElementById('giftValue').textContent = 'Rp' + voucherValue.toLocaleString('id-ID');
  document.getElementById('giftPopup').style.display = 'block';

  voucherUsed = true;
  renderCartPanel();

  // otomatis tutup popup setelah 3 detik
  setTimeout(()=>document.getElementById('giftPopup').style.display='none', 3000);
});

// tombol close popup
document.getElementById('closeGift').addEventListener('click', ()=>{
  document.getElementById('giftPopup').style.display='none';
});


/* init render */
renderCartPanel();
</script>
  <!-- Bagian Komentar & Rating Elegan dengan Animasi -->
<section id="ulasan" style="margin-top:60px;padding:40px 20px;background:linear-gradient(180deg,#fff,#fff6f6);border-top:4px solid var(--primary);">
  <h2 style="text-align:center;color:var(--primary);font-size:1.6rem;margin-bottom:20px;">
    üí¨ Ulasan & Rating Pelanggan
  </h2>

  <!-- Formulir Komentar -->
  <form id="formUlasan" 
        style="background:white;border-radius:16px;box-shadow:0 4px 15px rgba(0,0,0,0.08);padding:20px;max-width:500px;margin:auto;display:flex;flex-direction:column;gap:12px;">
    <input type="text" id="nama" placeholder="Nama Anda" required 
           style="padding:10px 12px;border-radius:10px;border:1px solid #ddd;font-size:15px;">
    <textarea id="komentar" placeholder="Tulis komentar Anda..." required 
              style="padding:10px 12px;border-radius:10px;border:1px solid #ddd;font-size:15px;min-height:80px;"></textarea>

    <!-- Rating Otomatis -->
    <div style="text-align:center;color:#FFD700;font-size:22px;">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
    <small style="text-align:center;color:#888;display:block;">Rating otomatis: <b>5 Bintang</b> ‚Äî Sangat Puas üòç</small>

    <button type="submit" 
            style="background:var(--primary);color:white;border:none;padding:12px;border-radius:10px;font-size:16px;font-weight:bold;cursor:pointer;transition:0.3s;">
      Kirim Ulasan
    </button>
  </form>

  <!-- Daftar Komentar -->
  <div id="daftarUlasan" 
       style="margin-top:30px;max-width:700px;margin:auto;display:grid;gap:16px;">
    <!-- Komentar akan tampil di sini -->
  </div>
</section>

<style>
/* Efek animasi fade-in & slide-up */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.kartu-ulasan {
  background: white;
  border-radius: 16px;
  box-shadow: 0 3px 12px rgba(0, 0, 0, 0.08);
  padding: 16px 20px;
  border-left: 6px solid var(--primary);
  opacity: 0;
  transform: translateY(20px);
  animation: fadeInUp 0.6s ease forwards;
}
.kartu-ulasan:hover {
  transform: translateY(-4px);
  transition: 0.3s;
  box-shadow: 0 5px 18px rgba(0, 0, 0, 0.1);
}
</style>

<script>
// ----- Simpan & Tampilkan Komentar -----
const formUlasan = document.getElementById('formUlasan');
const daftarUlasan = document.getElementById('daftarUlasan');

formUlasan.addEventListener('submit', e => {
  e.preventDefault();
  const nama = document.getElementById('nama').value.trim();
  const komentar = document.getElementById('komentar').value.trim();
  const rating = 5; // otomatis 5 bintang

  const ulasanBaru = {
    nama, komentar, rating,
    waktu: new Date().toLocaleString('id-ID', { dateStyle: 'medium', timeStyle: 'short' })
  };

  const semuaUlasan = JSON.parse(localStorage.getItem('ulasanCilok')) || [];
  semuaUlasan.unshift(ulasanBaru);
  localStorage.setItem('ulasanCilok', JSON.stringify(semuaUlasan));

  formUlasan.reset();
  tampilkanUlasan(true); // tampilkan dengan animasi
});

// ----- Tampilkan Ulasan -----
function tampilkanUlasan(animasiBaru = false) {
  const semuaUlasan = JSON.parse(localStorage.getItem('ulasanCilok')) || [];
  daftarUlasan.innerHTML = semuaUlasan.map((u, i) => `
    <div class="kartu-ulasan" style="animation-delay:${i * 0.1}s;">
      <div style="display:flex;align-items:center;justify-content:space-between;">
        <strong style="color:var(--primary);font-size:16px;">${u.nama}</strong>
        <span style="color:#FFD700;font-size:18px;">${'‚≠ê'.repeat(u.rating)}</span>
      </div>
      <p style="margin:10px 0;color:#444;line-height:1.5;">${u.komentar}</p>
      <small style="color:#888;font-size:13px;">üïì ${u.waktu}</small>
    </div>
  `).join('');
}

// Saat halaman dibuka, tampilkan semua ulasan
tampilkanUlasan();
</script>


</body>
</html>
