<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cilok Goang Teh Desi ‚Äî Pesan Online | Promo Spesial</title>
  <meta name="description" content="Cilok Goang Teh Desi Cimahi ‚Äî cilok pedas, seblak dan minuman. Dapatkan promo & voucher diskon setiap hari! Pesan online via Shopee, GoFood, Grab." />
  <meta name="keywords" content="cilok cimahi, cilok pedas, cilok goang, teh desi, seblak, promo, voucher diskon, gofood, shopeefood" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://dixs-bot.github.io/Vmenu/" />
  <meta property="og:title" content="Cilok Goang Teh Desi Cimahi" />
  <meta property="og:description" content="Rasa Juara, Pedasnya Bikin Nagih! Dapatkan promo spesial setiap hari. Pesan online via Shopee, GoFood, Grab atau WA." />
  <meta property="og:image" content="images/logocilok.png" />
  <meta property="og:url" content="https://dixs-bot.github.io/Vmenu/" />
  <meta property="og:type" content="restaurant" />

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap');
    
    /* === DESAIN PREMIUM & RESPONSIVE === */
    :root {
      --primary: #1a1a2e;
      --secondary: #16213e;
      --accent: #e94560;
      --gold: #ffd700;
      --gold-dark: #daa520;
      --silver: #c0c0c0;
      --bg: #f5f5f5;
      --card: #ffffff;
      --dark: #0f0f23;
      --light: #f8f9fa;
      --text: #333;
      --text-light: #666;
      --border-radius: 12px;
      --transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.7;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    header {
      background: linear-gradient(135deg, var(--dark) 0%, var(--secondary) 100%);
      color: white;
      padding: 20px 0;
      box-shadow: 0 10px 40px rgba(0,0,0,0.3);
      position: sticky;
      top: 0;
      z-index: 100;
      border-bottom: 3px solid var(--gold);
    }

    .brand {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      flex-wrap: wrap;
      gap: 15px;
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 20px;
      flex: 1;
      min-width: 250px;
    }

    .logo-small {
      width: 60px;
      height: 60px;
      border-radius: 10px;
      object-fit: cover;
      box-shadow: 0 8px 30px rgba(0,0,0,0.3);
      border: 3px solid rgba(255,255,255,0.2);
      transition: var(--transition);
    }

    .logo-small:hover {
      transform: scale(1.05);
      box-shadow: 0 12px 40px rgba(255,215,0,0.3);
    }

    .brand-info h1 {
      margin: 0;
      font-size: 1.5rem;
      font-weight: 700;
      font-family: 'Playfair Display', serif;
      letter-spacing: -0.5px;
      background: linear-gradient(135deg, var(--gold) 0%, var(--gold-dark) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }

    .brand-info p {
      margin: 4px 0 0;
      font-size: 0.9rem;
      opacity: 0.9;
      font-weight: 300;
      font-family: 'Playfair Display', serif;
    }

    .container {
      max-width: 1200px;
      margin: 30px auto;
      padding: 0 20px;
    }

    .banner-container {
      margin: 30px 0;
      padding: 20px;
      background: linear-gradient(135deg, var(--light) 0%, #e8e8e8 100%);
      border-radius: var(--border-radius);
      box-shadow: 0 15px 40px rgba(0,0,0,0.15);
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(0,0,0,0.05);
    }

    .banner-container::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--gold) 0%, var(--accent) 100%);
    }

    .banner-image {
      width: 100%;
      border-radius: 10px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.2);
      transition: transform 0.5s ease;
    }

    .banner-image:hover {
      transform: scale(1.02);
    }

    /* === PROMO SECTION === */
    .promo-section {
      background: linear-gradient(135deg, #fff5f5 0%, #ffe8e8 100%);
      border-radius: var(--border-radius);
      padding: 40px 20px;
      margin: 60px 0;
      position: relative;
      overflow: hidden;
      border: 2px solid #ff6b6b;
    }

    .promo-section::before {
      content: 'üéâ';
      position: absolute;
      top: 20px;
      right: 20px;
      font-size: 4rem;
      opacity: 0.1;
      z-index: 0;
    }

    .promo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
      margin-top: 30px;
      position: relative;
      z-index: 1;
    }

    .promo-card {
      background: white;
      border-radius: var(--border-radius);
      padding: 25px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.12);
      border-top: 4px solid var(--accent);
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .promo-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 50px rgba(0,0,0,0.2);
    }

    .promo-badge {
      position: absolute;
      top: 15px;
      right: 15px;
      background: linear-gradient(135deg, #ff6b6b 0%, #c0392b 100%);
      color: white;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 700;
      animation: pulse 2s infinite;
    }

    .promo-icon {
      font-size: 2.5rem;
      margin-bottom: 15px;
      display: block;
    }

    .discount-amount {
      font-size: 2rem;
      font-weight: 800;
      color: var(--accent);
      text-shadow: 0 2px 10px rgba(233, 69, 96, 0.2);
      margin: 10px 0;
    }

    .countdown {
      background: rgba(233, 69, 96, 0.1);
      padding: 10px;
      border-radius: 8px;
      margin-top: 15px;
      text-align: center;
    }

    .countdown-timer {
      font-family: monospace;
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--accent);
      margin-top: 5px;
    }

    /* === GIFT BOX ANIMATION === */
    .gift-box {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, var(--gold) 0%, var(--gold-dark) 100%);
      border-radius: 15px;
      position: relative;
      cursor: pointer;
      margin: 0 auto 20px;
      box-shadow: 0 10px 25px rgba(212, 175, 55, 0.4);
      transition: var(--transition);
      animation: float 3s ease-in-out infinite;
    }

    .gift-box:hover {
      transform: scale(1.1) rotate(5deg);
      animation: none;
    }

    .gift-lid {
      width: 90px;
      height: 20px;
      background: linear-gradient(135deg, var(--gold-dark) 0%, #b8860b 100%);
      border-radius: 8px 8px 0 0;
      position: absolute;
      top: -10px;
      left: -5px;
    }

    .gift-bow {
      width: 20px;
      height: 20px;
      background: var(--accent);
      border-radius: 50%;
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
    }

    .gift-bow::before,
    .gift-bow::after {
      content: '';
      position: absolute;
      width: 40px;
      height: 20px;
      background: var(--accent);
      border-radius: 20px;
      top: 10px;
    }

    .gift-bow::before {
      left: -30px;
      transform: rotate(-45deg);
    }

    .gift-bow::after {
      right: -30px;
      transform: rotate(45deg);
    }

    /* === DISCOUNT MODAL === */
    .discount-modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.8);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 3000;
      backdrop-filter: blur(5px);
    }

    .discount-modal.active {
      display: flex;
    }

    .discount-content {
      background: linear-gradient(135deg, white 0%, #fff9f9 100%);
      border-radius: 25px;
      padding: 40px;
      text-align: center;
      max-width: 400px;
      width: 90%;
      position: relative;
      border: 4px solid var(--gold);
      box-shadow: 0 20px 60px rgba(0,0,0,0.4);
      animation: popIn 0.5s ease;
    }

    .discount-close {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 28px;
      color: #666;
      cursor: pointer;
      transition: var(--transition);
      background: none;
      border: none;
      font-weight: 300;
    }

    .discount-close:hover {
      color: var(--accent);
      transform: scale(1.2);
    }

    .discount-emoji {
      font-size: 4rem;
      margin-bottom: 20px;
      animation: bounce 1s ease infinite alternate;
    }

    .discount-title {
      color: var(--primary);
      font-size: 1.8rem;
      margin-bottom: 10px;
      font-weight: 800;
    }

    .discount-code {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      color: white;
      padding: 15px 30px;
      border-radius: 15px;
      font-size: 1.5rem;
      font-weight: 800;
      letter-spacing: 3px;
      margin: 20px 0;
      display: inline-block;
      border: 3px dashed white;
      cursor: pointer;
      transition: var(--transition);
      user-select: all;
    }

    .discount-code:hover {
      transform: scale(1.05);
      box-shadow: 0 10px 30px rgba(26, 26, 46, 0.3);
    }

    .discount-code.copied {
      background: linear-gradient(135deg, #16c172 0%, #10b981 100%);
      animation: pulse 0.5s ease;
    }

    .discount-note {
      color: #666;
      font-size: 0.9rem;
      margin-top: 20px;
      font-style: italic;
    }

    /* === MENU STYLES === */
    .menu {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin: 40px 0;
    }

    .menu-title {
      grid-column: 1 / -1;
      text-align: center;
      margin-bottom: 30px;
    }

    .menu-title h2 {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--dark);
      margin-bottom: 15px;
      font-family: 'Playfair Display', serif;
      position: relative;
      display: inline-block;
    }

    .menu-title h2::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 3px;
      background: linear-gradient(90deg, var(--gold) 0%, var(--accent) 100%);
    }

    .card {
      background: var(--card);
      border-radius: var(--border-radius);
      padding: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.12);
      text-align: center;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(0,0,0,0.08);
      display: flex;
      flex-direction: column;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 4px;
      background: linear-gradient(90deg, var(--gold) 0%, var(--accent) 100%);
    }

    .card:hover {
      transform: translateY(-10px) scale(1.02);
      box-shadow: 0 20px 50px rgba(0,0,0,0.2);
      border-color: var(--gold);
    }

    .card-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      background: linear-gradient(135deg, var(--accent) 0%, #c0392b 100%);
      color: white;
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
      box-shadow: 0 4px 10px rgba(233, 69, 96, 0.3);
    }

    .card-image-container {
      position: relative;
      margin-bottom: 15px;
      overflow: hidden;
      border-radius: 10px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.1);
    }

    .card-image {
      width: 100%;
      height: 160px;
      object-fit: cover;
      transition: transform 0.5s ease;
    }

    .card:hover .card-image {
      transform: scale(1.1);
    }

    .card-content {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .card h3 {
      margin: 0 0 12px;
      color: var(--dark);
      font-size: 1.1rem;
      font-weight: 600;
      font-family: 'Playfair Display', serif;
    }

    .price-container {
      margin: 12px 0;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }

    .price {
      font-size: 1.4rem;
      font-weight: 700;
      color: var(--primary);
      font-family: 'Playfair Display', serif;
    }

    .price::before {
      content: 'Rp';
      font-size: 0.9rem;
      font-weight: 400;
      color: var(--dark);
    }

    .original-price {
      font-size: 1rem;
      color: #888;
      text-decoration: line-through;
      font-weight: 400;
    }

    .card button {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      font-size: 1rem;
      transition: var(--transition);
      box-shadow: 0 6px 20px rgba(26, 26, 46, 0.3);
      margin-top: auto;
      border: 2px solid transparent;
      min-height: 44px;
    }

    .card button:hover {
      background: linear-gradient(135deg, var(--accent) 0%, #e74c3c 100%);
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(233, 69, 96, 0.4);
      border-color: var(--gold);
    }

    /* === CART SYSTEM === */
    .cart-float {
      position: fixed;
      right: 20px;
      top: 20px;
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, var(--dark) 0%, var(--secondary) 100%);
      border-radius: 16px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.35);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 999;
      border: 3px solid rgba(255,255,255,0.15);
      transition: var(--transition);
    }

    .cart-float:hover {
      transform: scale(1.08) rotate(3deg);
      box-shadow: 0 20px 50px rgba(0,0,0,0.4);
      border-color: var(--gold);
    }

    .cart-float svg {
      width: 32px;
      height: 32px;
      fill: white;
    }

    .cart-float .badge {
      position: absolute;
      top: -8px;
      right: -8px;
      background: linear-gradient(135deg, var(--accent) 0%, #c0392b 100%);
      color: white;
      border-radius: 50%;
      width: 28px;
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 14px;
      box-shadow: 0 6px 15px rgba(233, 69, 96, 0.4);
      border: 2px solid white;
    }

    .cart-panel {
      position: fixed;
      right: 20px;
      top: 110px;
      width: calc(100% - 40px);
      max-width: 380px;
      max-height: 80vh;
      background: linear-gradient(135deg, var(--card) 0%, var(--light) 100%);
      border-radius: 16px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      overflow: auto;
      padding: 20px;
      z-index: 999;
      display: none;
      border: 1px solid rgba(0,0,0,0.1);
      border-top: 4px solid var(--gold);
    }

    .cart-panel h3 {
      margin: 0 0 20px;
      color: var(--primary);
      font-size: 1.4rem;
      font-weight: 600;
      font-family: 'Playfair Display', serif;
      border-bottom: 2px solid var(--gold);
      padding-bottom: 12px;
    }

    .cart-item {
      display: flex;
      gap: 12px;
      align-items: center;
      padding: 12px;
      border-bottom: 1px solid rgba(0,0,0,0.08);
      transition: background 0.2s ease;
    }

    .cart-item:hover {
      background: rgba(26, 26, 46, 0.03);
    }

    .cart-item .name {
      flex: 1;
      font-weight: 500;
      font-size: 1rem;
    }

    .cart-summary {
      margin-top: 20px;
      text-align: right;
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--dark);
      padding: 15px 0;
      border-top: 2px solid rgba(0,0,0,0.1);
      font-family: 'Playfair Display', serif;
    }

    .cart-actions {
      display: flex;
      gap: 12px;
      margin-top: 16px;
    }

    .cart-actions button {
      flex: 1;
      padding: 12px;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      font-weight: 700;
      transition: var(--transition);
      font-size: 1rem;
      min-height: 44px;
    }

    .btn-checkout {
      background: linear-gradient(135deg, var(--accent) 0%, #c0392b 100%);
      color: white;
      box-shadow: 0 6px 20px rgba(233, 69, 96, 0.3);
      border: 2px solid transparent;
    }

    .btn-checkout:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(233, 69, 96, 0.4);
      border-color: var(--gold);
    }

    .btn-clear {
      background: #f8f9fa;
      color: var(--dark);
      border: 1px solid rgba(0,0,0,0.1);
    }

    .btn-clear:hover {
      background: #e9ecef;
    }

    /* === MODAL CHECKOUT === */
    .modal-content {
      background: linear-gradient(135deg, var(--card) 0%, var(--light) 100%);
      margin: 4% auto;
      border-radius: 20px;
      padding: 30px;
      width: 94%;
      max-width: 560px;
      box-shadow: 0 25px 60px rgba(0,0,0,0.3);
      border: 1px solid rgba(0,0,0,0.1);
      border-top: 4px solid var(--gold);
    }

    .close-button {
      float: right;
      font-size: 28px;
      color: var(--text-light);
      cursor: pointer;
      transition: all 0.2s ease;
      font-weight: 300;
    }

    .close-button:hover {
      color: var(--dark);
      transform: scale(1.2);
    }

    /* === WHATSAPP FLOAT === */
    .whatsapp-float {
      position: fixed;
      left: 20px;
      bottom: 20px;
      z-index: 999;
      transition: var(--transition);
    }

    .whatsapp-float img {
      width: 70px;
      height: 70px;
      border-radius: 14px;
      box-shadow: 0 15px 40px rgba(0,0,0,0.3);
      transition: var(--transition);
      border: 3px solid rgba(255,255,255,0.2);
    }

    .whatsapp-float img:hover {
      transform: translateY(-8px) scale(1.1);
      box-shadow: 0 20px 50px rgba(0,0,0,0.4);
    }

    /* === ANIMATIONS === */
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    @keyframes bounce {
      0% { transform: translateY(0); }
      100% { transform: translateY(-10px); }
    }

    @keyframes popIn {
      0% { transform: scale(0.5); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }

    @keyframes confetti {
      0% { transform: translateY(-100px) rotate(0deg); opacity: 1; }
      100% { transform: translateY(1000px) rotate(360deg); opacity: 0; }
    }

    /* === RESPONSIVE === */
    @media(max-width: 768px) {
      .brand {
        flex-direction: column;
        text-align: center;
        gap: 15px;
      }

      .menu {
        grid-template-columns: 1fr;
        gap: 15px;
      }

      .cart-panel {
        right: 15px;
        left: 15px;
        width: auto;
        top: auto;
        bottom: 20px;
        max-height: 60vh;
      }

      .cart-float {
        width: 70px;
        height: 70px;
        right: 15px;
        top: 15px;
      }

      .promo-grid {
        grid-template-columns: 1fr;
      }

      .discount-content {
        padding: 20px;
      }
    }

    @media(max-width: 480px) {
      .logo-small {
        width: 50px;
        height: 50px;
      }

      .brand-info h1 {
        font-size: 1.3rem;
      }

      .menu {
        gap: 12px;
        margin: 30px 0;
      }

      .card {
        padding: 15px;
      }

      .cart-float {
        width: 60px;
        height: 60px;
      }

      .promo-section {
        padding: 25px 15px;
      }
    }
  </style>
</head>
<body>

<header>
  <div class="brand">
    <div class="logo-container">
      <img class="logo-small" src="logocilok.png" alt="Logo Cilok">
      <div class="brand-info">
        <h1>Cilok Goang Teh Desi</h1>
        <p>Wisma Agung, Jl. KH Usman Dhomiri RT 02 RW 17, Padasuka ‚Äî Buka 09:00‚Äì24:00</p>
      </div>
    </div>
  </div>
</header>

<div class="container">
  <!-- Banner GIF -->
  <div class="banner-container">
    <img src="Planet Arcadia.gif" alt="Promo Cilok Goang Teh Desi" class="banner-image">
  </div>

  <!-- === PROMO SECTION === -->
  <section class="promo-section">
    <div style="text-align: center; margin-bottom: 30px;">
      <h2 style="color: var(--primary); font-size: 2rem; margin-bottom: 10px;">üéä PROMO SPESIAL! üéä</h2>
      <p style="color: var(--text-light);">Dapatkan diskon dan kado voucher setiap hari!</p>
    </div>
    
    <!-- Gift Box Harian -->
    <div style="text-align: center; margin: 30px 0;">
      <p style="color: var(--primary); font-weight: 600; margin-bottom: 15px;">üéÅ BUKA KADO HARIAN üéÅ</p>
      <div class="gift-box" id="dailyGiftBox">
        <div class="gift-lid"></div>
        <div class="gift-bow"></div>
      </div>
      <p style="color: #666; font-size: 0.9rem; margin-top: 10px;">Klik kotak kado untuk dapat voucher random!</p>
    </div>
    
    <!-- Promo Cards -->
    <div class="promo-grid">
      <div class="promo-card">
        <div class="promo-badge">TERPOPULER</div>
        <span class="promo-icon">üõçÔ∏è</span>
        <h3 style="color: var(--primary); margin-bottom: 10px;">Diskon 15%</h3>
        <p style="color: var(--text-light); margin-bottom: 15px;">Min. beli Rp 50.000, diskon 15% semua menu!</p>
        <div class="discount-amount">15% OFF</div>
        <div class="countdown">
          <small>Berakhir dalam:</small>
          <div class="countdown-timer" id="promo1Timer">23:59:59</div>
        </div>
      </div>
      
      <div class="promo-card">
        <div class="promo-badge">BARU</div>
        <span class="promo-icon">üë•</span>
        <h3 style="color: var(--primary); margin-bottom: 10px;">Paket Keluarga</h3>
        <p style="color: var(--text-light); margin-bottom: 15px;">Beli 5 cilok, gratis 1 minuman!</p>
        <div class="discount-amount">GRATIS 1</div>
        <div class="countdown">
          <small>Berakhir dalam:</small>
          <div class="countdown-timer" id="promo2Timer">05:20:15</div>
        </div>
      </div>
      
      <div class="promo-card">
        <span class="promo-icon">üöö</span>
        <h3 style="color: var(--primary); margin-bottom: 10px;">Gratis Ongkir</h3>
        <p style="color: var(--text-light); margin-bottom: 15px;">Min. Rp 40.000 via GoFood/Grab gratis ongkir!</p>
        <div class="discount-amount">FREE ONGKIR</div>
        <div class="countdown">
          <small>Berakhir dalam:</small>
          <div class="countdown-timer" id="promo3Timer">11:30:45</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Menu Section -->
  <section>
    <div class="menu-title">
      <h2>Menu Unggulan</h2>
    </div>
    <div class="menu" id="menuList">
      <!-- Menu akan dirender lewat JS -->
    </div>
  </section>

  <div style="text-align:center;margin-top:30px">
    <a href="MENU.pdf" download class="download-link">üì• Download Menu (PDF)</a>
  </div>
</div>

<!-- Cart Floating -->
<div class="cart-float" id="cartBtn" title="Lihat Keranjang">
  <svg width="28" height="28" viewBox="0 0 24 24" fill="none"><path d="M6 6h15l-1.68 8.39A2 2 0 0 1 17.36 16H8.64a2 2 0 0 1-1.96-1.61L5 2H2" stroke="#333" stroke-width="1.2" stroke-linecap="round"/></svg>
  <div class="badge" id="cartCount">0</div>
</div>

<!-- Modal Discount -->
<div id="discountModal" class="discount-modal">
  <div class="discount-content">
    <button class="discount-close" id="closeDiscount">√ó</button>
    
    <div class="discount-emoji" id="discountEmoji">üéâ</div>
    <h2 class="discount-title" id="discountTitle">SELAMAT!</h2>
    
    <p id="discountMessage">Kamu mendapatkan voucher diskon spesial!</p>
    
    <div class="discount-code" id="discountCode" onclick="copyDiscountCode()">
      CILOK10
    </div>
    
    <p id="discountDescription">Gunakan kode di atas saat checkout</p>
    
    <div style="margin-top: 25px;">
      <p><strong>üìã Syarat & Ketentuan:</strong></p>
      <p style="font-size: 0.85rem; color: #666;">
        ‚Ä¢ Minimal pembelian Rp 30.000<br>
        ‚Ä¢ Berlaku untuk semua menu<br>
        ‚Ä¢ Tidak bisa digabung dengan promo lain<br>
        ‚Ä¢ Berlaku 7 hari setelah diterima
      </p>
    </div>
    
    <p class="discount-note">Voucher akan otomatis tersimpan di akun Anda</p>
  </div>
</div>

<!-- Cart Panel -->
<div class="cart-panel" id="cartPanel" aria-hidden="true">
  <h3>Keranjang Anda</h3>
  <div id="cartItems"></div>
  <div class="cart-summary" id="cartTotal">Total: Rp0</div>
  <div class="cart-actions">
    <button id="clearCart" class="btn-clear">Kosongkan</button>
    <button id="checkoutBtn" class="btn-checkout">Checkout</button>
  </div>
  <div style="margin-top:20px;text-align:center">
    <p style="margin:10px 0">Atau pesan langsung via:</p>
    <a href="https://spf.shopee.co.id/1g9uILh8Vf" target="_blank"><img src="shopee-icon.svg" style="width:90px;margin:6px;" alt="Shopee"></a>
    <a href="https://gofood.co.id/bandung/restaurant/cilok-goang-teh-desi-cimahi-bdf5f39f-21b7-4f84-8c38-33deeed7b509" target="_blank"><img src="gojek-svgrepo-com.svg" style="width:90px;margin:6px;" alt="GoFood"></a>
    <a href="https://r.grab.com/g/6-20251011_170831_e03d2f193b48446c9ee266e748eda4b7_MEXMPS-6-CZMAV2KKSEJHJN" target="_blank"><img src="grab-logo-svgrepo-com.svg" style="width:90px;margin:6px;" alt="Grab"></a>
  </div>
</div>

<!-- Checkout Modal -->
<div id="checkoutModal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal-content">
    <span class="close-button" id="modalClose">&times;</span>
    <h3>Checkout ‚Äî Pilih Pengiriman & Pembayaran</h3>

    <form id="checkoutForm">
      <div style="margin-top:8px">
        <label style="font-weight:700">Pilih Layanan Pengiriman</label>
        <div style="margin-top:8px">
          <label class="inline"><input type="radio" name="shipping" value="Shopee" checked> <button type="button" class="ship-btn ship-shopee">Shopee SPX</button></label>
          <label class="inline"><input type="radio" name="shipping" value="Gojek"> <button type="button" class="ship-btn ship-gojek">Gojek GoSend</button></label>
          <label class="inline"><input type="radio" name="shipping" value="Grab"> <button type="button" class="ship-btn ship-grab">GrabExpress</button></label>
          <label class="inline"><input type="radio" name="shipping" value="Pickup"> <button type="button" class="ship-btn ship-pickup">Ambil di Tempat</button></label>
        </div>
      </div>

      <div id="shippingBlock" style="margin-top:12px">
        <div class="form-row">
          <label style="min-width:150px;font-weight:600">Masukkan jarak (km)</label>
          <input id="jarakInputModal" type="number" min="0" placeholder="contoh: 6">
          <button type="button" id="btnHitungModal" class="small-btn">Hitung Ongkir</button>
          <button type="button" id="btnLokasi" class="small-btn" style="background:#00796b">Deteksi Lokasi Saya üìç</button>
        </div>
        <a href="https://www.google.com/maps/dir/?api=1&destination=-6.878372,107.542569&travelmode=driving" target="_blank" style="display:inline-block;margin-top:8px;font-weight:700;color:var(--primary);text-decoration:none">üåç Cek jarak & estimasi di Google Maps</a>
        <p id="hasilOngkirModal" style="margin-top:8px;font-weight:800"></p>
      </div>

      <hr style="margin-top:12px">

      <div style="margin-top:10px">
        <label style="font-weight:700">Metode Pembayaran</label><br>
        <label class="inline"><input type="radio" name="paymentMethod" value="Transfer" checked> Transfer Bank</label>
        <label class="inline"><input type="radio" name="paymentMethod" value="QRIS"> QRIS</label>
      </div>

      <div id="paymentArea" style="margin-top:10px"></div>

      <div style="margin-top:14px;display:flex;gap:8px">
        <button type="submit" class="small-btn" style="flex:1">Konfirmasi & Kirim ke WhatsApp</button>
        <button type="button" id="openPlatformBtn" class="small-btn" style="background:#00796b;flex:1">Buka Aplikasi</button>
      </div>

      <p class="footer-note">Estimasi ongkir bersifat perkiraan. Untuk tarif resmi, cek aplikasi layanan pengiriman.</p>
    </form>
  </div>
</div>

<!-- WhatsApp Float -->
<a href="https://wa.me/6281212629516" target="_blank" title="Chat Teh Desi" class="whatsapp-float">
  <img src="whatsapp-svgrepo-com.svg" style="width:70px;height:70px;border-radius:14px;box-shadow:0 15px 40px rgba(0,0,0,0.3)">
</a>

<script>
/* ===== DATA MENU LENGKAP ===== */
const MENU = [
  { id: 'm1', name: 'Paket Hemat 1', price: 15000, img:'hemat 1.jpg' },
  { id: 'm2', name: 'Paket Hemat 2', price: 15000, img:'hemat 2.jpg' },
  { id: 'm3', name: 'Paket Hemat 3', price: 13000, img:'paket 3.jpg' },
  { id: 'm4', name: 'Cilok Goang Tulang', price: 12000, img:'cilok goang tulang.jpg' },
  { id: 'm5', name: 'Cilok Goang Tofu Sehah', price: 10000, img:'tofu.jpg' },
  { id: 'm6', name: 'Cilok Granat', price: 10000, img:'cilok granat.jpg' },
  { id: 'm7', name: 'Cilok Goang Sambal Ijo', price: 10000, img:'cilok goang sambal ijo.jpg' },
  { id: 'm8', name: 'Cilok Goang Ceker Sambal Ijo', price: 12000, img:'cilok goang ceker samal ijo.jpg' },
  { id: 'm9', name: 'Cilok Kuah Boncabe', price: 10000, img:'cilok kuah endolita.jpg' },
  { id: 'm10', name: 'Mie Cilok Goang', price: 10000, img:'mie cilok goang.jpg' },
  { id: 'm11', name: 'Cilok Goang Ceker Pedas', price: 12000, img:'cilok kuah ceker pedas.jpg' },
  { id: 'm12', name: 'Cilok Kuah Endolita', price: 10000, img:'cilok kuah endolita.jpg' },
  { id: 'm13', name: 'Seblak Kerupuk Endolita', price: 10000, img:'seblak kerupuk.jpg' },
  { id: 'm14', name: 'Seblak Mie kuah Telur Pedas', price: 10000, img:'seblak mie.jpg' },
  { id: 'm15', name: 'Seblok Endolita', price: 10000, img:'seblok cilok.jpg' },
  { id: 'm16', name: 'Seblok Ceker Endolita', price: 15000, img:'seblok.jpg' },
  { id: 'm17', name: 'Seblak Kerupuk Rafael', price: 12000, img:'rafael.jpg' },
  { id: 'm18', name: 'Seblak 4 Varian', price: 10000, img:'seblak 4.jpg' },
  { id: 'm19', name: 'Seblak 5 Varian', price: 12000, img:'seblak 5.jpg' },
  { id: 'm20', name: 'Seblak 6 Varian', price: 15000, img:'seblak 6.jpg' },
  { id: 'm21', name: 'Cilok Goreng Asin Keju', price: 10000, img:'asin keju.jpg' },
  { id: 'm22', name: 'Cilok Goreng Keju Balado', price: 10000, img:'cilok balado.jpg' },
  { id: 'm23', name: 'Cilok Goreng Jagung Bakar', price: 10000, img:'jagung bakar.jpg' },
  { id: 'm24', name: 'CIGO Cilok Goang Setan Merah', price: 10000, img:'setan merah.jpg' },
  { id: 'm25', name: 'Cilok Goreng Manis Pedas', price: 10000, img:'cilok goreng manis pedas.jpg' },
  { id: 'm26', name: 'Cilok Goreng Asin Pedas', price: 10000, img:'cilok goreng asin pedas.jpg' },
  { id: 'm28', name: 'Cilok Bumbu Kacang Lumer', price: 10000, img:'cilok bumbu kacang.jpg' },
  { id: 'm29', name: 'Cilok Goreng Telur Puyuh', price: 10000, img:'cilok crispy telor puyuh.jpg' },
  { id: 'm30', name: 'Cilok Goreng Crispy', price: 10000, img:'cilok goreng crispy.jpg' },
  { id: 'm31', name: 'Rujak Cireng', price: 10000, img:'cireng banjur.jpg' },
  { id: 'm32', name: 'Cireng Bumbu Kacang', price: 10000, img:'cireng bumbu kacang.jpg' },
  { id: 'm33', name: 'Cireng Isi Ayam Suir', price: 10000, img:'cireng isi suwir ayam.jpg' },
  { id: 'm34', name: 'Cireng Bajur Mantul', price: 10000, img:'cireng banjur.jpg' },
  { id: 'm35', name: 'Cilok Goang INSTAN KOMPLIT', price: 12000, img:'instan koplit.jpg' },
  { id: 'm42', name: 'Makroni Ngoonah Pedes Sedang', price: 5000, img:'makroni pedes sedang.jpg' },
  { id: 'm43', name: 'Makroni Ngoonah Pedes Banget', price: 5000, img:'makroni pedas daun jeruk.jpg' },
  { id: 'm44', name: 'Makroni Ngoonah ORIGINAL', price: 5000, img:'makroni original.jpg' },
  { id: 'm45', name: 'Jus Jeruk Peras', price: 6000, img:'es jeruk.jpg' },
  { id: 'm46', name: 'Es Lemon Tea', price: 6000, img:'lemon tea.jpg' },
  { id: 'm47', name: 'Capuccino Cincau', price: 6000, img:'capucino cincau.jpeg' },
  { id: 'm48', name: 'Thai Tea', price: 6000, img:'thai tea.jpeg' },
  { id: 'm49', name: 'Green Tea', price: 6000, img:'green tea.jpg' }
];

/* ===== PROMO & VOUCHER SYSTEM ===== */
const VOUCHERS = [
  { code: 'CILOK10', discount: 10, minPurchase: 30000, emoji: 'üéâ', title: 'DISKON 10%', message: 'Selamat! Dapatkan diskon 10% untuk pembelian minimal Rp 30.000' },
  { code: 'CILOK15', discount: 15, minPurchase: 50000, emoji: 'üéä', title: 'DISKON 15%', message: 'Wow! Dapatkan diskon 15% untuk pembelian minimal Rp 50.000' },
  { code: 'CILOK20', discount: 20, minPurchase: 75000, emoji: 'üî•', title: 'DISKON 20%', message: 'Luar biasa! Dapatkan diskon 20% untuk pembelian minimal Rp 75.000' },
  { code: 'GRATISMINUM', discount: 100, minPurchase: 40000, emoji: 'ü•§', title: 'MINUMAN GRATIS', message: 'Dapatkan 1 minuman gratis untuk pembelian minimal Rp 40.000' },
  { code: 'ONGKIRGRATIS', discount: 'FREE', minPurchase: 50000, emoji: 'üöö', title: 'GRATIS ONGKIR', message: 'Gratis ongkir untuk pembelian minimal Rp 50.000 via GoFood/Grab' }
];

const PROMO_TIMERS = [
  { id: 'promo1Timer', hours: 23, minutes: 59, seconds: 59 },
  { id: 'promo2Timer', hours: 5, minutes: 20, seconds: 15 },
  { id: 'promo3Timer', hours: 11, minutes: 30, seconds: 45 }
];

let claimedVouchers = JSON.parse(localStorage.getItem('cilok_vouchers')) || [];
let selectedVoucher = null;

/* ===== STATE ===== */
let cart = JSON.parse(localStorage.getItem('cg_cart') || '[]');
const rupiah = n => 'Rp' + n.toLocaleString('id-ID');
function saveCart(){ localStorage.setItem('cg_cart', JSON.stringify(cart)); renderCartCount(); }

/* ===== RENDER MENU ===== */
const menuList = document.getElementById('menuList');
function renderMenu(){
  menuList.innerHTML = '';
  MENU.forEach(item => {
    const div = document.createElement('div');
    div.className = 'card';
    div.innerHTML = `
      <div class="card-badge">HOT</div>
      <div class="card-image-container">
        <img src="${item.img}" alt="${item.name}" class="card-image" onerror="this.onerror=null; this.src='https://via.placeholder.com/300x200?text=Cilok+Goang'">
      </div>
      <div class="card-content">
        <h3>${item.name}</h3>
        <div class="price-container">
          <div class="price">${rupiah(item.price)}</div>
        </div>
        <button onclick="addToCart('${item.id}')">Tambah ke Keranjang üõí</button>
      </div>
    `;
    menuList.appendChild(div);
  });
}
renderMenu();

/* ===== PROMO FUNCTIONS ===== */
function startPromoTimers() {
  PROMO_TIMERS.forEach(promo => {
    const timerElement = document.getElementById(promo.id);
    if (!timerElement) return;
    
    let totalSeconds = promo.hours * 3600 + promo.minutes * 60 + promo.seconds;
    
    const timerInterval = setInterval(() => {
      if (totalSeconds <= 0) {
        clearInterval(timerInterval);
        timerElement.textContent = 'PROMO BERAKHIR';
        timerElement.style.color = '#ff6b6b';
        return;
      }
      
      const hours = Math.floor(totalSeconds / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;
      
      timerElement.textContent = 
        `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      
      totalSeconds--;
    }, 1000);
  });
}

function openGiftBox() {
  const lastGiftDate = localStorage.getItem('cilok_last_gift');
  const today = new Date().toDateString();
  
  if (lastGiftDate === today) {
    alert('‚ùå Sudah buka kado hari ini. Coba lagi besok!');
    return;
  }
  
  const randomIndex = Math.floor(Math.random() * VOUCHERS.length);
  const selectedVoucher = VOUCHERS[randomIndex];
  
  claimedVouchers.push({
    code: selectedVoucher.code,
    discount: selectedVoucher.discount,
    minPurchase: selectedVoucher.minPurchase,
    claimedDate: new Date().toISOString(),
    expires: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString()
  });
  
  localStorage.setItem('cilok_vouchers', JSON.stringify(claimedVouchers));
  localStorage.setItem('cilok_last_gift', today);
  
  showDiscountModal(selectedVoucher);
  createConfetti();
}

function showDiscountModal(voucher) {
  const modal = document.getElementById('discountModal');
  const emoji = document.getElementById('discountEmoji');
  const title = document.getElementById('discountTitle');
  const message = document.getElementById('discountMessage');
  const code = document.getElementById('discountCode');
  const description = document.getElementById('discountDescription');
  
  emoji.textContent = voucher.emoji;
  title.textContent = voucher.title;
  message.textContent = voucher.message;
  code.textContent = voucher.code;
  description.textContent = `Minimal pembelian: Rp ${voucher.minPurchase.toLocaleString('id-ID')}`;
  
  modal.style.display = 'block';
}

function copyDiscountCode() {
  const codeElement = document.getElementById('discountCode');
  const code = codeElement.textContent;
  
  navigator.clipboard.writeText(code).then(() => {
    codeElement.classList.add('copied');
    codeElement.textContent = '‚úÖ DISALIN!';
    
    setTimeout(() => {
      codeElement.classList.remove('copied');
      codeElement.textContent = code;
    }, 2000);
  }).catch(err => {
    console.error('Gagal menyalin: ', err);
  });
}

function createConfetti() {
  const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#feca57', '#ff9ff3'];
  
  for (let i = 0; i < 50; i++) {
    const confetti = document.createElement('div');
    confetti.style.cssText = `
      position: fixed;
      width: 10px;
      height: 10px;
      background: ${colors[Math.floor(Math.random() * colors.length)]};
      border-radius: ${Math.random() > 0.5 ? '50%' : '0'};
      top: -20px;
      left: ${Math.random() * 100}vw;
      z-index: 9999;
      pointer-events: none;
      animation: confetti ${Math.random() * 3 + 2}s linear forwards;
    `;
    
    document.body.appendChild(confetti);
    
    setTimeout(() => confetti.remove(), 5000);
  }
}

function applyVoucherAtCheckout() {
  const now = new Date();
  const validVouchers = claimedVouchers.filter(voucher => {
    return new Date(voucher.expires) > now;
  });
  
  if (validVouchers.length === 0) {
    return null;
  }
  
  let voucherList = 'Voucher yang tersedia:\\n\\n';
  validVouchers.forEach((voucher, index) => {
    voucherList += `${index + 1}. ${voucher.code} - Diskon ${voucher.discount}%\\n`;
    voucherList += `   Minimal pembelian: Rp ${voucher.minPurchase.toLocaleString('id-ID')}\\n\\n`;
  });
  
  const selected = prompt(voucherList + 'Masukkan nomor voucher yang ingin digunakan (atau 0 untuk tidak pakai):');
  const selectedIndex = parseInt(selected) - 1;
  
  if (selectedIndex >= 0 && selectedIndex < validVouchers.length) {
    return validVouchers[selectedIndex];
  }
  
  return null;
}

/* ===== CART FUNCTIONS ===== */
function addToCart(id){
  const item = MENU.find(m => m.id === id);
  if(!item) return;
  const found = cart.find(c => c.id === id);
  if(found) found.qty++;
  else cart.push({ id:item.id, name:item.name, price:item.price, qty:1 });
  saveCart();
  renderCartPanel();
  showCartPanel();
  showNotification(`${item.name} ditambahkan ke keranjang!`);
}

function renderCartCount(){
  const c = cart.reduce((s,i)=>s+i.qty,0);
  document.getElementById('cartCount').textContent = c;
}
renderCartCount();

const cartBtn = document.getElementById('cartBtn');
const cartPanel = document.getElementById('cartPanel');
const cartItemsEl = document.getElementById('cartItems');
const cartTotalEl = document.getElementById('cartTotal');

cartBtn.addEventListener('click', ()=> {
  cartPanel.style.display = (cartPanel.style.display === 'block') ? 'none' : 'block';
});

function showCartPanel(){ renderCartPanel(); cartPanel.style.display='block'; cartPanel.setAttribute('aria-hidden','false'); }

function renderCartPanel(){
  cartItemsEl.innerHTML = '';
  if(cart.length === 0){
    cartItemsEl.innerHTML = '<p style="color:#666">Keranjang kosong.</p>';
    cartTotalEl.textContent = 'Total: Rp0';
    renderCartCount();
    return;
  }
  
  let subtotal = 0;
  cart.forEach((it, idx) => {
    const sub = it.price * it.qty;
    subtotal += sub;
    const node = document.createElement('div');
    node.className = 'cart-item';
    node.innerHTML = `
      <div class="name">${it.name}</div>
      <div style="min-width:120px;text-align:right">
        <div style="font-weight:700">${rupiah(it.price)}</div>
        <div style="margin-top:6px;display:flex;gap:6px;justify-content:flex-end">
          <button class="small-btn" onclick="changeQty(${idx},-1)">-</button>
          <span style="padding:0 8px">${it.qty}</span>
          <button class="small-btn" onclick="changeQty(${idx},1)">+</button>
        </div>
      </div>
    `;
    cartItemsEl.appendChild(node);
  });

  // Calculate discount
  let discount = 0;
  if (selectedVoucher && subtotal >= selectedVoucher.minPurchase) {
    if (typeof selectedVoucher.discount === 'number') {
      discount = (subtotal * selectedVoucher.discount) / 100;
    }
  }

  const total = Math.max(0, subtotal - discount);
  
  cartTotalEl.innerHTML = `
    Subtotal: ${rupiah(subtotal)}<br>
    ${discount > 0 ? `<span style="color:green">üéÅ Voucher ${selectedVoucher?.code}: -${rupiah(discount)}</span><br>` : ''}
    <b>Total: ${rupiah(total)}</b>
  `;
  saveCart();
  renderCartCount();
}

function changeQty(i, d){
  cart[i].qty += d;
  if(cart[i].qty <= 0) cart.splice(i,1);
  renderCartPanel();
}

document.getElementById('clearCart').addEventListener('click', ()=>{
  if(confirm('Kosongkan keranjang?')){ 
    cart=[]; 
    selectedVoucher = null;
    saveCart(); 
    renderCartPanel(); 
    cartPanel.style.display='none'; 
  }
});

/* ===== CHECKOUT SYSTEM ===== */
const checkoutBtn = document.getElementById('checkoutBtn');
const modal = document.getElementById('checkoutModal');
const modalClose = document.getElementById('modalClose');
const checkoutForm = document.getElementById('checkoutForm');
const hasilOngkirModal = document.getElementById('hasilOngkirModal');

checkoutBtn.addEventListener('click', ()=> {
  if(cart.length === 0){ 
    alert('Keranjang kosong ‚Äî tambahkan menu dulu.'); 
    return; 
  }
  
  // Ask about voucher
  const useVoucher = confirm('Ingin menggunakan voucher diskon?');
  if (useVoucher) {
    selectedVoucher = applyVoucherAtCheckout();
  } else {
    selectedVoucher = null;
  }
  
  // Update cart with voucher
  renderCartPanel();
  
  // Open checkout modal
  modal.style.display='block'; 
  modal.setAttribute('aria-hidden','false');
  updatePaymentArea(); 
  updateShippingBlock();
});

modalClose.addEventListener('click', ()=> { 
  modal.style.display='none'; 
  selectedVoucher = null;
});

window.addEventListener('click', (e)=>{ 
  if(e.target === modal) {
    modal.style.display='none';
    selectedVoucher = null;
  }
});

function updatePaymentArea(){
  const val = document.querySelector('input[name="paymentMethod"]:checked')?.value;
  const area = document.getElementById('paymentArea');
  if(!val) { area.innerHTML=''; return; }
  if(val === 'Transfer'){
    area.innerHTML = '<p style="font-weight:700">Transfer ke BCA:<br><span style="font-size:1.05rem">1390997651 a/n Desirusmianti</span></p>';
  } else {
    area.innerHTML = '<p style="font-weight:700">Bayar via QRIS:</p><p><img src="qris-cilokgoang.jpeg" style="width:180px;border-radius:8px"></p>';
  }
}

document.querySelectorAll('input[name="paymentMethod"]').forEach(r => r.addEventListener('change', updatePaymentArea));
updatePaymentArea();

function updateShippingBlock(){
  const selected = document.querySelector('input[name="shipping"]:checked')?.value;
  const block = document.getElementById('shippingBlock');
  if(selected === 'Pickup'){
    block.innerHTML = '<p style="font-weight:700">üè† Ambil di Tempat ‚Äî Ongkir: Rp0</p>';
    hasilOngkirModal.textContent = '';
    return;
  }
  block.innerHTML = `
    <div class="form-row">
      <label style="min-width:150px;font-weight:600">Masukkan jarak (km)</label>
      <input id="jarakInputModal" type="number" min="0" placeholder="contoh: 6">
      <button type="button" id="btnHitungModal" class="small-btn">Hitung Ongkir</button>
      <button type="button" id="btnLokasi" class="small-btn" style="background:#00796b">Deteksi Lokasi Saya üìç</button>
    </div>
    <a href="https://www.google.com/maps/dir/?api=1&destination=-6.878372,107.542569&travelmode=driving" target="_blank" style="display:inline-block;margin-top:8px;font-weight:700;color:var(--primary);text-decoration:none">üåç Cek jarak & estimasi di Google Maps</a>
    <p id="hasilOngkirModal" style="margin-top:8px;font-weight:800"></p>
  `;

  document.getElementById('btnHitungModal').addEventListener('click', ()=> {
    const jar = parseFloat(document.getElementById('jarakInputModal').value);
    if(isNaN(jar) || jar <= 0){ 
      document.getElementById('hasilOngkirModal').textContent = '‚ö†Ô∏è Masukkan jarak yang benar.'; 
      return; 
    }
    const service = document.querySelector('input[name="shipping"]:checked').value;
    const ong = kalkulasiOngkir(service, jar);
    const link = linkByService(service);
    document.getElementById('hasilOngkirModal').innerHTML = `üöö Estimasi ongkir (${service}): <b>${rupiah(ong)}</b><br><a id="openAppLink" href="${link}" target="_blank" style="font-weight:700;color:var(--primary)">‚û°Ô∏è Buka di aplikasi ${service}</a>`;
  });

  document.getElementById('btnLokasi').addEventListener('click', ()=>{
    if(navigator.geolocation){
      navigator.geolocation.getCurrentPosition(function(pos){
        const lat = pos.coords.latitude;
        const lon = pos.coords.longitude;
        const tokoLat = -6.878372;
        const tokoLon = 107.542569;
        const R = 6371;
        const dLat = (tokoLat - lat) * Math.PI / 180;
        const dLon = (tokoLon - lon) * Math.PI / 180;
        const a = Math.sin(dLat/2)**2 + Math.cos(lat*Math.PI/180)*Math.cos(tokoLat*Math.PI/180)*Math.sin(dLon/2)**2;
        const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
        const jarak = (R * c).toFixed(2);
        document.getElementById('jarakInputModal').value = jarak;
        alert('‚úÖ Lokasi terdeteksi! Jarak kamu sekitar ' + jarak + ' km dari Cilok Goang Teh Desi.');
      }, function(){
        alert('‚ö†Ô∏è Gagal mendeteksi lokasi. Pastikan izin lokasi diaktifkan.');
      });
    } else {
      alert('Browser kamu tidak mendukung deteksi lokasi otomatis.');
    }
  });
}

document.querySelectorAll('input[name="shipping"]').forEach(r => r.addEventListener('change', updateShippingBlock));
updateShippingBlock();

function kalkulasiOngkir(layanan, jarak) {
  const base = 5000;
  const perKm = 2000;
  let total = base + (jarak * perKm);
  
  if(layanan === 'Shopee') total *= 0.9;
  if(layanan === 'Gojek') total *= 1.1;
  if(layanan === 'Grab') total *= 1.2;
  
  return Math.round(total / 500) * 500;
}

function linkByService(service) {
  const links = {
    'Shopee': 'https://spf.shopee.co.id/1g9uILh8Vf',
    'Gojek': 'https://gofood.co.id/bandung/restaurant/cilok-goang-teh-desi-cimahi-bdf5f39f-21b7-4f84-8c38-33deeed7b509',
    'Grab': 'https://r.grab.com/g/6-20251011_170831_e03d2f193b48446c9ee266e748eda4b7_MEXMPS-6-CZMAV2KKSEJHJN'
  };
  return links[service] || '#';
}

/* ===== NOTIFICATION SYSTEM ===== */
function showNotification(message) {
  const notification = document.createElement('div');
  notification.style.cssText = `
    position: fixed;
    top: 100px;
    right: 20px;
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    color: white;
    padding: 15px 25px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    z-index: 2000;
    animation: slideIn 0.3s ease;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 10px;
    max-width: 300px;
  `;
  notification.innerHTML = `‚úÖ ${message}`;
  document.body.appendChild(notification);
  
  setTimeout(() => {
    notification.style.animation = 'slideOut 0.3s ease';
    setTimeout(() => notification.remove(), 300);
  }, 3000);
}

/* ===== INITIALIZE ===== */
document.addEventListener('DOMContentLoaded', function() {
  // Start promo timers
  startPromoTimers();
  
  // Gift box event
  const giftBox = document.getElementById('dailyGiftBox');
  if (giftBox) {
    giftBox.addEventListener('click', openGiftBox);
  }
  
  // Close discount modal
  const closeDiscount = document.getElementById('closeDiscount');
  if (closeDiscount) {
    closeDiscount.addEventListener('click', () => {
      document.getElementById('discountModal').style.display = 'none';
    });
  }
  
  // Close discount modal when clicking outside
  const discountModal = document.getElementById('discountModal');
  if (discountModal) {
    discountModal.addEventListener('click', (e) => {
      if (e.target === discountModal) {
        discountModal.style.display = 'none';
      }
    });
  }
  
  // Add confetti animation style
  const style = document.createElement('style');
  style.textContent = `
    @keyframes slideIn {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes slideOut {
      from { transform: translateX(0); opacity: 1; }
      to { transform: translateX(100%); opacity: 0; }
    }
  `;
  document.head.appendChild(style);
});
</script>

</body>
</html>
